(function(){"use strict";var he=typeof global=="object"&&global&&global.Object===Object&&global,fn=typeof self=="object"&&self&&self.Object===Object&&self,A=he||fn||Function("return this")(),y=A.Symbol,_e=Object.prototype,un=_e.hasOwnProperty,cn=_e.toString,R=y?y.toStringTag:void 0;function ln(e){var n=un.call(e,R),t=e[R];try{e[R]=void 0;var r=!0}catch{}var i=cn.call(e);return r&&(n?e[R]=t:delete e[R]),i}var pn=Object.prototype,dn=pn.toString;function gn(e){return dn.call(e)}var hn="[object Null]",_n="[object Undefined]",ve=y?y.toStringTag:void 0;function C(e){return e==null?e===void 0?_n:hn:ve&&ve in Object(e)?ln(e):gn(e)}function $(e){return e!=null&&typeof e=="object"}var vn="[object Symbol]";function z(e){return typeof e=="symbol"||$(e)&&C(e)==vn}function yn(e,n){for(var t=-1,r=e==null?0:e.length,i=Array(r);++t<r;)i[t]=n(e[t],t,e);return i}var v=Array.isArray,bn=1/0,ye=y?y.prototype:void 0,be=ye?ye.toString:void 0;function Te(e){if(typeof e=="string")return e;if(v(e))return yn(e,Te)+"";if(z(e))return be?be.call(e):"";var n=e+"";return n=="0"&&1/e==-bn?"-0":n}var Tn=/\s/;function An(e){for(var n=e.length;n--&&Tn.test(e.charAt(n)););return n}var wn=/^\s+/;function On(e){return e&&e.slice(0,An(e)+1).replace(wn,"")}function N(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Ae=NaN,Pn=/^[-+]0x[0-9a-f]+$/i,$n=/^0b[01]+$/i,Sn=/^0o[0-7]+$/i,En=parseInt;function mn(e){if(typeof e=="number")return e;if(z(e))return Ae;if(N(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=N(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=On(e);var t=$n.test(e);return t||Sn.test(e)?En(e.slice(2),t?2:8):Pn.test(e)?Ae:+e}var we=1/0,In=17976931348623157e292;function xn(e){if(!e)return e===0?e:0;if(e=mn(e),e===we||e===-we){var n=e<0?-1:1;return n*In}return e===e?e:0}function Cn(e){var n=xn(e),t=n%1;return n===n?t?n-t:n:0}function Q(e){return e}var Mn="[object AsyncFunction]",Rn="[object Function]",Nn="[object GeneratorFunction]",Dn="[object Proxy]";function Oe(e){if(!N(e))return!1;var n=C(e);return n==Rn||n==Nn||n==Mn||n==Dn}var V=A["__core-js_shared__"],Pe=function(){var e=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Fn(e){return!!Pe&&Pe in e}var jn=Function.prototype,Ln=jn.toString;function S(e){if(e!=null){try{return Ln.call(e)}catch{}try{return e+""}catch{}}return""}var Gn=/[\\^$.*+?()[\]{}|]/g,Un=/^\[object .+?Constructor\]$/,Bn=Function.prototype,zn=Object.prototype,Hn=Bn.toString,Kn=zn.hasOwnProperty,Yn=RegExp("^"+Hn.call(Kn).replace(Gn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wn(e){if(!N(e)||Fn(e))return!1;var n=Oe(e)?Yn:Un;return n.test(S(e))}function Xn(e,n){return e==null?void 0:e[n]}function E(e,n){var t=Xn(e,n);return Wn(t)?t:void 0}var k=E(A,"WeakMap");function qn(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function Zn(){}var Jn=800,Qn=16,Vn=Date.now;function kn(e){var n=0,t=0;return function(){var r=Vn(),i=Qn-(r-t);if(t=r,i>0){if(++n>=Jn)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function et(e){return function(){return e}}var H=function(){try{var e=E(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nt=H?function(e,n){return H(e,"toString",{configurable:!0,enumerable:!1,value:et(n),writable:!0})}:Q,tt=nt,rt=kn(tt);function $e(e,n,t,r){for(var i=e.length,a=t+(r?1:-1);r?a--:++a<i;)if(n(e[a],a,e))return a;return-1}function it(e){return e!==e}function at(e,n,t){for(var r=t-1,i=e.length;++r<i;)if(e[r]===n)return r;return-1}function st(e,n,t){return n===n?at(e,n,t):$e(e,it,t)}function ot(e,n){var t=e==null?0:e.length;return!!t&&st(e,n,0)>-1}var ft=9007199254740991,ut=/^(?:0|[1-9]\d*)$/;function ee(e,n){var t=typeof e;return n=n??ft,!!n&&(t=="number"||t!="symbol"&&ut.test(e))&&e>-1&&e%1==0&&e<n}function ct(e,n,t){n=="__proto__"&&H?H(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Se(e,n){return e===n||e!==e&&n!==n}var Ee=Math.max;function lt(e,n,t){return n=Ee(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=Ee(r.length-n,0),s=Array(a);++i<a;)s[i]=r[n+i];i=-1;for(var o=Array(n+1);++i<n;)o[i]=r[i];return o[n]=t(s),qn(e,this,o)}}function pt(e,n){return rt(lt(e,n,Q),e+"")}var dt=9007199254740991;function ne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dt}function K(e){return e!=null&&ne(e.length)&&!Oe(e)}var gt=Object.prototype;function ht(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||gt;return e===t}function _t(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var vt="[object Arguments]";function me(e){return $(e)&&C(e)==vt}var Ie=Object.prototype,yt=Ie.hasOwnProperty,bt=Ie.propertyIsEnumerable,te=me(function(){return arguments}())?me:function(e){return $(e)&&yt.call(e,"callee")&&!bt.call(e,"callee")};function Tt(){return!1}var xe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ce=xe&&typeof module=="object"&&module&&!module.nodeType&&module,At=Ce&&Ce.exports===xe,Me=At?A.Buffer:void 0,wt=Me?Me.isBuffer:void 0,re=wt||Tt,Ot="[object Arguments]",Pt="[object Array]",$t="[object Boolean]",St="[object Date]",Et="[object Error]",mt="[object Function]",It="[object Map]",xt="[object Number]",Ct="[object Object]",Mt="[object RegExp]",Rt="[object Set]",Nt="[object String]",Dt="[object WeakMap]",Ft="[object ArrayBuffer]",jt="[object DataView]",Lt="[object Float32Array]",Gt="[object Float64Array]",Ut="[object Int8Array]",Bt="[object Int16Array]",zt="[object Int32Array]",Ht="[object Uint8Array]",Kt="[object Uint8ClampedArray]",Yt="[object Uint16Array]",Wt="[object Uint32Array]",d={};d[Lt]=d[Gt]=d[Ut]=d[Bt]=d[zt]=d[Ht]=d[Kt]=d[Yt]=d[Wt]=!0,d[Ot]=d[Pt]=d[Ft]=d[$t]=d[jt]=d[St]=d[Et]=d[mt]=d[It]=d[xt]=d[Ct]=d[Mt]=d[Rt]=d[Nt]=d[Dt]=!1;function Xt(e){return $(e)&&ne(e.length)&&!!d[C(e)]}function qt(e){return function(n){return e(n)}}var Re=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D=Re&&typeof module=="object"&&module&&!module.nodeType&&module,Zt=D&&D.exports===Re,ie=Zt&&he.process,Ne=function(){try{var e=D&&D.require&&D.require("util").types;return e||ie&&ie.binding&&ie.binding("util")}catch{}}(),De=Ne&&Ne.isTypedArray,Fe=De?qt(De):Xt,Jt=Object.prototype,Qt=Jt.hasOwnProperty;function Vt(e,n){var t=v(e),r=!t&&te(e),i=!t&&!r&&re(e),a=!t&&!r&&!i&&Fe(e),s=t||r||i||a,o=s?_t(e.length,String):[],f=o.length;for(var c in e)(n||Qt.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ee(c,f)))&&o.push(c);return o}function kt(e,n){return function(t){return e(n(t))}}var er=kt(Object.keys,Object),nr=Object.prototype,tr=nr.hasOwnProperty;function rr(e){if(!ht(e))return er(e);var n=[];for(var t in Object(e))tr.call(e,t)&&t!="constructor"&&n.push(t);return n}function Y(e){return K(e)?Vt(e):rr(e)}var ir=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ar=/^\w*$/;function ae(e,n){if(v(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||z(e)?!0:ar.test(e)||!ir.test(e)||n!=null&&e in Object(n)}var F=E(Object,"create");function sr(){this.__data__=F?F(null):{},this.size=0}function or(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var fr="__lodash_hash_undefined__",ur=Object.prototype,cr=ur.hasOwnProperty;function lr(e){var n=this.__data__;if(F){var t=n[e];return t===fr?void 0:t}return cr.call(n,e)?n[e]:void 0}var pr=Object.prototype,dr=pr.hasOwnProperty;function gr(e){var n=this.__data__;return F?n[e]!==void 0:dr.call(n,e)}var hr="__lodash_hash_undefined__";function _r(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=F&&n===void 0?hr:n,this}function m(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}m.prototype.clear=sr,m.prototype.delete=or,m.prototype.get=lr,m.prototype.has=gr,m.prototype.set=_r;function vr(){this.__data__=[],this.size=0}function W(e,n){for(var t=e.length;t--;)if(Se(e[t][0],n))return t;return-1}var yr=Array.prototype,br=yr.splice;function Tr(e){var n=this.__data__,t=W(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():br.call(n,t,1),--this.size,!0}function Ar(e){var n=this.__data__,t=W(n,e);return t<0?void 0:n[t][1]}function wr(e){return W(this.__data__,e)>-1}function Or(e,n){var t=this.__data__,r=W(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function w(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}w.prototype.clear=vr,w.prototype.delete=Tr,w.prototype.get=Ar,w.prototype.has=wr,w.prototype.set=Or;var j=E(A,"Map");function Pr(){this.size=0,this.__data__={hash:new m,map:new(j||w),string:new m}}function $r(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function X(e,n){var t=e.__data__;return $r(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Sr(e){var n=X(this,e).delete(e);return this.size-=n?1:0,n}function Er(e){return X(this,e).get(e)}function mr(e){return X(this,e).has(e)}function Ir(e,n){var t=X(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function O(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}O.prototype.clear=Pr,O.prototype.delete=Sr,O.prototype.get=Er,O.prototype.has=mr,O.prototype.set=Ir;var xr="Expected a function";function se(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(xr);var t=function(){var r=arguments,i=n?n.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return t.cache=a.set(i,s)||a,s};return t.cache=new(se.Cache||O),t}se.Cache=O;var Cr=500;function Mr(e){var n=se(e,function(r){return t.size===Cr&&t.clear(),r}),t=n.cache;return n}var Rr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nr=/\\(\\)?/g,Dr=Mr(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Rr,function(t,r,i,a){n.push(i?a.replace(Nr,"$1"):r||t)}),n});function Fr(e){return e==null?"":Te(e)}function oe(e,n){return v(e)?e:ae(e,n)?[e]:Dr(Fr(e))}var jr=1/0;function L(e){if(typeof e=="string"||z(e))return e;var n=e+"";return n=="0"&&1/e==-jr?"-0":n}function fe(e,n){n=oe(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[L(n[t++])];return t&&t==r?e:void 0}function Lr(e,n,t){var r=e==null?void 0:fe(e,n);return r===void 0?t:r}function je(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var Le=y?y.isConcatSpreadable:void 0;function Gr(e){return v(e)||te(e)||!!(Le&&e&&e[Le])}function Ge(e,n,t,r,i){var a=-1,s=e.length;for(t||(t=Gr),i||(i=[]);++a<s;){var o=e[a];n>0&&t(o)?n>1?Ge(o,n-1,t,r,i):je(i,o):r||(i[i.length]=o)}return i}function Ur(e,n,t){var r=-1,i=e.length;n<0&&(n=-n>i?0:i+n),t=t>i?i:t,t<0&&(t+=i),i=n>t?0:t-n>>>0,n>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+n];return a}function Br(){this.__data__=new w,this.size=0}function zr(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function Hr(e){return this.__data__.get(e)}function Kr(e){return this.__data__.has(e)}var Yr=200;function Wr(e,n){var t=this.__data__;if(t instanceof w){var r=t.__data__;if(!j||r.length<Yr-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new O(r)}return t.set(e,n),this.size=t.size,this}function P(e){var n=this.__data__=new w(e);this.size=n.size}P.prototype.clear=Br,P.prototype.delete=zr,P.prototype.get=Hr,P.prototype.has=Kr,P.prototype.set=Wr;function Xr(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function qr(){return[]}var Zr=Object.prototype,Jr=Zr.propertyIsEnumerable,Ue=Object.getOwnPropertySymbols,Qr=Ue?function(e){return e==null?[]:(e=Object(e),Xr(Ue(e),function(n){return Jr.call(e,n)}))}:qr,Vr=Qr;function kr(e,n,t){var r=n(e);return v(e)?r:je(r,t(e))}function Be(e){return kr(e,Y,Vr)}var ue=E(A,"DataView"),ce=E(A,"Promise"),M=E(A,"Set"),ze="[object Map]",ei="[object Object]",He="[object Promise]",Ke="[object Set]",Ye="[object WeakMap]",We="[object DataView]",ni=S(ue),ti=S(j),ri=S(ce),ii=S(M),ai=S(k),I=C;(ue&&I(new ue(new ArrayBuffer(1)))!=We||j&&I(new j)!=ze||ce&&I(ce.resolve())!=He||M&&I(new M)!=Ke||k&&I(new k)!=Ye)&&(I=function(e){var n=C(e),t=n==ei?e.constructor:void 0,r=t?S(t):"";if(r)switch(r){case ni:return We;case ti:return ze;case ri:return He;case ii:return Ke;case ai:return Ye}return n});var Xe=I,si=A.Uint8Array,qe=si,oi="__lodash_hash_undefined__";function fi(e){return this.__data__.set(e,oi),this}function ui(e){return this.__data__.has(e)}function G(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new O;++n<t;)this.add(e[n])}G.prototype.add=G.prototype.push=fi,G.prototype.has=ui;function ci(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function Ze(e,n){return e.has(n)}var li=1,pi=2;function Je(e,n,t,r,i,a){var s=t&li,o=e.length,f=n.length;if(o!=f&&!(s&&f>o))return!1;var c=a.get(e),l=a.get(n);if(c&&l)return c==n&&l==e;var u=-1,p=!0,g=t&pi?new G:void 0;for(a.set(e,n),a.set(n,e);++u<o;){var h=e[u],_=n[u];if(r)var b=s?r(_,h,u,n,e,a):r(h,_,u,e,n,a);if(b!==void 0){if(b)continue;p=!1;break}if(g){if(!ci(n,function(T,x){if(!Ze(g,x)&&(h===T||i(h,T,t,r,a)))return g.push(x)})){p=!1;break}}else if(!(h===_||i(h,_,t,r,a))){p=!1;break}}return a.delete(e),a.delete(n),p}function di(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function le(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var gi=1,hi=2,_i="[object Boolean]",vi="[object Date]",yi="[object Error]",bi="[object Map]",Ti="[object Number]",Ai="[object RegExp]",wi="[object Set]",Oi="[object String]",Pi="[object Symbol]",$i="[object ArrayBuffer]",Si="[object DataView]",Qe=y?y.prototype:void 0,pe=Qe?Qe.valueOf:void 0;function Ei(e,n,t,r,i,a,s){switch(t){case Si:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case $i:return!(e.byteLength!=n.byteLength||!a(new qe(e),new qe(n)));case _i:case vi:case Ti:return Se(+e,+n);case yi:return e.name==n.name&&e.message==n.message;case Ai:case Oi:return e==n+"";case bi:var o=di;case wi:var f=r&gi;if(o||(o=le),e.size!=n.size&&!f)return!1;var c=s.get(e);if(c)return c==n;r|=hi,s.set(e,n);var l=Je(o(e),o(n),r,i,a,s);return s.delete(e),l;case Pi:if(pe)return pe.call(e)==pe.call(n)}return!1}var mi=1,Ii=Object.prototype,xi=Ii.hasOwnProperty;function Ci(e,n,t,r,i,a){var s=t&mi,o=Be(e),f=o.length,c=Be(n),l=c.length;if(f!=l&&!s)return!1;for(var u=f;u--;){var p=o[u];if(!(s?p in n:xi.call(n,p)))return!1}var g=a.get(e),h=a.get(n);if(g&&h)return g==n&&h==e;var _=!0;a.set(e,n),a.set(n,e);for(var b=s;++u<f;){p=o[u];var T=e[p],x=n[p];if(r)var on=s?r(x,T,p,n,e,a):r(T,x,p,e,n,a);if(!(on===void 0?T===x||i(T,x,t,r,a):on)){_=!1;break}b||(b=p=="constructor")}if(_&&!b){var Z=e.constructor,J=n.constructor;Z!=J&&"constructor"in e&&"constructor"in n&&!(typeof Z=="function"&&Z instanceof Z&&typeof J=="function"&&J instanceof J)&&(_=!1)}return a.delete(e),a.delete(n),_}var Mi=1,Ve="[object Arguments]",ke="[object Array]",q="[object Object]",Ri=Object.prototype,en=Ri.hasOwnProperty;function Ni(e,n,t,r,i,a){var s=v(e),o=v(n),f=s?ke:Xe(e),c=o?ke:Xe(n);f=f==Ve?q:f,c=c==Ve?q:c;var l=f==q,u=c==q,p=f==c;if(p&&re(e)){if(!re(n))return!1;s=!0,l=!1}if(p&&!l)return a||(a=new P),s||Fe(e)?Je(e,n,t,r,i,a):Ei(e,n,f,t,r,i,a);if(!(t&Mi)){var g=l&&en.call(e,"__wrapped__"),h=u&&en.call(n,"__wrapped__");if(g||h){var _=g?e.value():e,b=h?n.value():n;return a||(a=new P),i(_,b,t,r,a)}}return p?(a||(a=new P),Ci(e,n,t,r,i,a)):!1}function de(e,n,t,r,i){return e===n?!0:e==null||n==null||!$(e)&&!$(n)?e!==e&&n!==n:Ni(e,n,t,r,de,i)}var Di=1,Fi=2;function ji(e,n,t,r){var i=t.length,a=i,s=!r;if(e==null)return!a;for(e=Object(e);i--;){var o=t[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=t[i];var f=o[0],c=e[f],l=o[1];if(s&&o[2]){if(c===void 0&&!(f in e))return!1}else{var u=new P;if(r)var p=r(c,l,f,e,n,u);if(!(p===void 0?de(l,c,Di|Fi,r,u):p))return!1}}return!0}function nn(e){return e===e&&!N(e)}function Li(e){for(var n=Y(e),t=n.length;t--;){var r=n[t],i=e[r];n[t]=[r,i,nn(i)]}return n}function tn(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==void 0||e in Object(t))}}function Gi(e){var n=Li(e);return n.length==1&&n[0][2]?tn(n[0][0],n[0][1]):function(t){return t===e||ji(t,e,n)}}function Ui(e,n){return e!=null&&n in Object(e)}function Bi(e,n,t){n=oe(n,e);for(var r=-1,i=n.length,a=!1;++r<i;){var s=L(n[r]);if(!(a=e!=null&&t(e,s)))break;e=e[s]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&ne(i)&&ee(s,i)&&(v(e)||te(e)))}function zi(e,n){return e!=null&&Bi(e,n,Ui)}var Hi=1,Ki=2;function Yi(e,n){return ae(e)&&nn(n)?tn(L(e),n):function(t){var r=Lr(t,e);return r===void 0&&r===n?zi(t,e):de(n,r,Hi|Ki)}}function Wi(e){return function(n){return n==null?void 0:n[e]}}function Xi(e){return function(n){return fe(n,e)}}function qi(e){return ae(e)?Wi(L(e)):Xi(e)}function U(e){return typeof e=="function"?e:e==null?Q:typeof e=="object"?v(e)?Yi(e[0],e[1]):Gi(e):qi(e)}function Zi(e,n,t,r){for(var i=-1,a=e==null?0:e.length;++i<a;){var s=e[i];n(r,s,t(s),e)}return r}function Ji(e){return function(n,t,r){for(var i=-1,a=Object(n),s=r(n),o=s.length;o--;){var f=s[e?o:++i];if(t(a[f],f,a)===!1)break}return n}}var Qi=Ji(),Vi=Qi;function ki(e,n){return e&&Vi(e,n,Y)}function ea(e,n){return function(t,r){if(t==null)return t;if(!K(t))return e(t,r);for(var i=t.length,a=n?i:-1,s=Object(t);(n?a--:++a<i)&&r(s[a],a,s)!==!1;);return t}}var na=ea(ki);function ta(e,n,t,r){return na(e,function(i,a,s){n(r,i,t(i),s)}),r}function ra(e,n){return function(t,r){var i=v(t)?Zi:ta,a=n?n():{};return i(t,e,U(r),a)}}function rn(e){return $(e)&&K(e)}function ia(e,n,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(n,e[r]))return!0;return!1}function an(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}function aa(e){return function(n,t,r){var i=Object(n);if(!K(n)){var a=U(t);n=Y(n),t=function(o){return a(i[o],o,i)}}var s=e(n,t,r);return s>-1?i[a?n[s]:s]:void 0}}var sa=Math.max;function oa(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var i=t==null?0:Cn(t);return i<0&&(i=sa(r+i,0)),$e(e,U(n),i)}var fa=aa(oa),ge=fa,ua=Object.prototype,ca=ua.hasOwnProperty,la=ra(function(e,n,t){ca.call(e,t)?e[t].push(n):ct(e,t,[n])});function pa(e,n){return n.length<2?e:fe(e,Ur(n,0,-1))}function da(e,n){return n=oe(n,e),e=pa(e,n),e==null||delete e[L(an(n))]}var ga=Array.prototype,ha=ga.splice;function _a(e,n){for(var t=e?n.length:0,r=t-1;t--;){var i=n[t];if(t==r||i!==a){var a=i;ee(i)?ha.call(e,i,1):da(e,i)}}return e}function va(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,i=[],a=e.length;for(n=U(n);++r<a;){var s=e[r];n(s,r,e)&&(t.push(s),i.push(r))}return _a(e,i),t}var ya=1/0,ba=M&&1/le(new M([,-0]))[1]==ya?function(e){return new M(e)}:Zn,Ta=200;function Aa(e,n,t){var r=-1,i=ot,a=e.length,s=!0,o=[],f=o;if(t)s=!1,i=ia;else if(a>=Ta){var c=n?null:ba(e);if(c)return le(c);s=!1,i=Ze,f=new G}else f=n?[]:o;e:for(;++r<a;){var l=e[r],u=n?n(l):l;if(l=t||l!==0?l:0,s&&u===u){for(var p=f.length;p--;)if(f[p]===u)continue e;n&&f.push(u),o.push(l)}else i(f,u,t)||(f!==o&&f.push(u),o.push(l))}return o}var wa=pt(function(e){var n=an(e);return rn(n)&&(n=void 0),Aa(Ge(e,1,rn,!0),U(n))});class Oa{constructor(n){n&&this.setup(n)}setup(n){self.addEventListener("message",async t=>{const{type:r,pid:i,params:a}=t.data,o=await n[r].apply(null,a);t.ports[0].postMessage({success:!0,pid:i,data:o})}),self.addEventListener("messageerror",async t=>{t.ports[0].postMessage({success:!1,data:null})})}}const B=".axcs",Pa=1e5,$a="BITMAP",sn=e=>e.indexOf(B)===e.length-B.length,Sa=e=>e.length>Pa,Ea=(e=[],n)=>{const t=`${n}${B}`;return e.includes(t)},ma=(e,n)=>{const t=[],r=new Set;let i=ge(t,a=>a.canvasId===e);for(let a=n.length-1;a>=0;a--){const{data:s}=n[a];s.forEach(o=>{const{display:f,action:c}=o;if(!r.has(f.id))r.add(f.id),["base64","dPath"].forEach(l=>{f[l]===""&&(f[l]=`${f.id}${B}`)}),i?i.data=i.data?[...i.data,o]:[o]:(i={canvasId:e,data:[o]},t.push(i));else if(c==="ADD"&&i!=null&&i.data){const l=ge(i.data,({display:{id:p}})=>p===f.id),u=l==null?void 0:l.display;["base64","dPath"].forEach(p=>{u[p]&&(u[p]=f[p])})}})}return t},Ia=e=>{const n=la(e,"canvasId");let t=[];return Object.keys(n).forEach(r=>{t=[...t,...ma(r,n[r])]}),t},xa=(e,n,t)=>{n=JSON.parse(n);const r=Ia(e);return Ca(r,n,t)},Ca=(e,n,t)=>{const r=[];for(let i=0;i<e.length;i++){const{canvasId:a,data:s}=e[i],o=ge(n.canvas,({id:c})=>c===a);if(!o)return;const f=[];for(let c=0;c<s.length;c++){const{action:l,display:u}=s[c],{id:p}=u;if(["ADD","UPDATE"].includes(l)){const g=u.type===$a&&!sn(u.base64),h=u.dPath&&!sn(u.dPath)&&Sa(u.dPath);if(g||h){const _=g?u.base64:u.dPath,b=Ea(t,u.id);(l==="ADD"||!b)&&r.push({fileName:p,fileContent:_});const T=`${u.id}${B}`;g?u.base64=T:h&&(u.dPath=T)}f.push(u)}else l==="DELETE"&&va(o.displays,({id:g})=>g===u.id)}o.displays=wa(f,o.displays||[],"id")}return{projectData:n,waitingStableResources:r}},Ma={fetchProjectCacheUpdateInfo:xa};new Oa(Ma)})();
