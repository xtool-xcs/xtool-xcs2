import{useViewModel as te,useSystemBack as ne,localization as le,UNIT_TYPE as $,GRAPHICS_CURVES_QUALITY as q,openBrowser as S,__unplugin_components_0 as oe,SetUnitEvent as ae,SetLanguageEvent as ie,SetQualityEvent as se,_export_sfc as ue}from"./main-f7BGirYr.js";import{defineComponent as ce,ref as _,computed as u,openBlock as i,createElementBlock as d,createVNode as g,unref as s,Fragment as b,renderList as E,withCtx as r,createBlock as y,createBaseVNode as M,toDisplayString as k,withModifiers as re,createCommentVNode as pe,createTextVNode as T}from"./importmap-vue-u6Q_1Jji.js";import"../assets/index-FfF0Lcw0.js";import{SettingViewModel as ve}from"./settingviewmodel-IPUaoc4k.js";import{useRouter as _e}from"./importmap-vue-router-aHGpzyJi.js";import{useI18n as me}from"./importmap-vue-i18n-LlhaB8iP.js";import{NavBar as de,Popup as ge,Dialog as ke,Cell as fe,CellGroup as he,Picker as be,Button as ye}from"./importmap-vant-Ij4SMMwJ.js";const we={class:"custom-cell-title"},Ce={class:"fl"},xe=ce({__name:"Index",setup(Ve){const{t:e}=me(),w=_e(),p=te(ve);ne(()=>(w.back(),!0));const m=_(!1),a=_(""),C=_(),B=_(0),x=_(!1),f=_(!1),U=u(()=>[[{id:"unit",title:e("setting.unit"),onClick:I},{id:"language",title:e("setting.language"),onClick:I}],[{id:"graphicsCurvesQuality",title:e("setting.graphics_curves_quality.title"),onClick:I,icon:"graph_quality",onIconClick:Y}],[{id:"about",title:e("mobile.common.about"),onClick:h},{id:"help",title:e("example.detail.help_center"),onClick:h}],[{id:"project",title:e("common.menu.link_example"),onClick:h}],[{id:"shop",title:e("common.menu.link_mall"),onClick:h}]]),H=u(()=>{var t;return(t=U.value.flat().find(n=>n.id===a.value))==null?void 0:t.title}),V=u(()=>({BEST:[`${e("setting.graphics_curves_quality.option_best")}: `,e("setting.graphics_curves_quality.option_best_desc")],HIGH:[`${e("setting.graphics_curves_quality.option_high")}: `,e("setting.graphics_curves_quality.option_high_desc")],MEDIUM:[`${e("setting.graphics_curves_quality.option_medium")}: `,e("setting.graphics_curves_quality.option_medium_desc")]})),D=u(()=>p.uiState.unit),G=u(()=>p.uiState.quality),R=u(()=>p.uiState.lang),P=u(()=>({unit:D.value,language:R.value,graphicsCurvesQuality:G.value})),j=le.supportLangs.map(t=>({value:t.lang,label:t.label})),Q=u(()=>({unit:[{label:e("setting.unit_mm"),value:$.MM},{label:e("setting.unit_in"),value:$.IN}],language:j,graphicsCurvesQuality:[{label:e("setting.graphics_curves_quality.option_best"),value:q.BEST},{label:e("setting.graphics_curves_quality.option_high"),value:q.HIGH},{label:e("setting.graphics_curves_quality.option_medium"),value:q.MEDIUM}]})),L={unit:t=>{p.sendEvent(new ae(t.selectedValues[0]))},language:t=>{p.sendEvent(new ie(t.selectedValues[0]))},graphicsCurvesQuality:t=>{p.sendEvent(new se(t.selectedValues[0]))}},O=(t,n=[])=>{let c=n.find(v=>v.value===t);return(c==null?void 0:c.label)??""},I=t=>{m.value=!0,a.value=t,B.value=Math.random(),C.value=[P.value[a.value]]},h=t=>{switch(t){case"about":w.push({path:"system-about"});break;case"help":S("https://support.xtool.com/hc/en-us");break;case"project":S("https://s.xtool.com/community/home");break;case"shop":S("https://www.xtool.com/");break}},A=t=>{var v;m.value=!1;let n=t.selectedValues[0],c=C.value[0];L[a.value]&&L[a.value](t),a.value&&a.value==="graphicsCurvesQuality"&&n&&n!==c&&(x.value=!0),a.value&&a.value==="unit"&&((v=window.sensors)==null||v.track("unitSet",{}))},K=()=>{m.value=!1},Y=()=>{f.value=!0};return(t,n)=>{const c=de,v=oe,z=fe,F=he,J=be,W=ge,X=ye,N=ke;return i(),d(b,null,[g(c,{fixed:"",placeholder:"","left-arrow":"",title:s(e)("common.menu.setting"),onClickLeft:n[0]||(n[0]=l=>s(w).back())},null,8,["title"]),(i(!0),d(b,null,E(U.value,(l,Z)=>(i(),y(F,{key:Z,border:!1},{default:r(()=>[(i(!0),d(b,null,E(l,o=>(i(),y(z,{key:o.id,"is-link":"",center:"",boeder:"",value:O(P.value[o.id],Q.value[o.id])||"",onClick:ee=>o.onClick&&o.onClick(o.id)},{title:r(()=>[M("div",we,[M("span",Ce,k(o.title),1),o.icon?(i(),y(v,{key:0,name:o.icon,class:"fl svg-tip f-s-16",onClick:re(ee=>o.onIconClick&&o.onIconClick(),["stop"])},null,8,["name","onClick"])):pe("",!0)])]),_:2},1032,["value","onClick"]))),128))]),_:2},1024))),128)),g(W,{show:m.value,"onUpdate:show":n[1]||(n[1]=l=>m.value=l),round:"",position:"bottom","close-on-click-overlay":!0},{default:r(()=>[(i(),y(J,{key:B.value,"model-value":C.value,title:H.value,columns:Q.value[a.value]||[],"columns-field-names":{text:"label"},"confirm-button-text":s(e)("common.msg.ok"),"cancel-button-text":s(e)("common.msg.cancel"),onConfirm:A,onCancel:K},null,8,["model-value","title","columns","confirm-button-text","cancel-button-text"]))]),_:1},8,["show"]),g(N,{show:f.value,"onUpdate:show":n[3]||(n[3]=l=>f.value=l),class:"quality-wrapper",title:s(e)("setting.graphics_curves_quality.title")},{footer:r(()=>[g(X,{class:"know-btn",type:"primary",block:"",onClick:n[2]||(n[2]=l=>f.value=!1)},{default:r(()=>[T(k(s(e)("component.button.iknow")),1)]),_:1})]),default:r(()=>[(i(!0),d(b,null,E(Object.keys(V.value),l=>(i(),d("div",{key:l,class:"quality-tips-wrap"},[M("span",null,k(V.value[l][0]),1),T(" "+k(V.value[l][1]),1)]))),128))]),_:1},8,["show","title"]),g(N,{show:x.value,"onUpdate:show":n[4]||(n[4]=l=>x.value=l),class:"effect-wrapper",title:s(e)("mobile.common.notice"),"confirm-button-text":s(e)("common.dialog.ok")},{default:r(()=>[T(k(s(e)("setting.graphics_curves_quality.take_effect_tips")),1)]),_:1},8,["show","title","confirm-button-text"])],64)}}}),Ue=ue(xe,[["__scopeId","data-v-ff7eb2cb"]]);export{Ue as default};
