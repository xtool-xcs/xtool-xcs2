var c=Object.defineProperty;var h=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var i=(e,t,n)=>(h(e,typeof t!="symbol"?t+"":t,n),n);import{BaseViewModel as v,userCenterManager as s,sensorsTrack as a,ButtonNames as r,EventNames as o,_export_sfc as u}from"./main-f7BGirYr.js";import{effectScope as E,watch as l,defineComponent as p,openBlock as g,createElementBlock as f,renderSlot as m,mergeProps as S}from"./importmap-vue-u6Q_1Jji.js";import"./griditem.vue_vue_type_style_index_0_scoped_39934db8_lang-w40geAFS.js";class U{}class H{}class R{}class I{}class L{}class k{}class C{}class O{}class y{}class M{constructor(t){this.name=t}}class T extends v{constructor(){super();i(this,"effectScope",E(!0));this.effectScope.run(()=>{l(()=>s.uToken.value,n=>{const d=!!n;this.updateState({isLogin:d})},{immediate:!0}),l(()=>s.userInfo.value,n=>{this.updateState({userInfo:n})},{immediate:!0})})}createState(){return{isLogin:!1,userInfo:null,isRenameSuccess:!1}}setEventHandler(){this.registerEventHandler(U,this.handleLoginEvent),this.registerEventHandler(H,this.handleLogoutEvent),this.registerEventHandler(L,this.handleOpenSettingEvent),this.registerEventHandler(C,this.handleOpenSafeRuleEvent),this.registerEventHandler(k,this.handleOpenPointsHistoryEvent),this.registerEventHandler(R,this.handleGetUserInfoEvent),this.registerEventHandler(I,this.handleGetUTokenEvent),this.registerEventHandler(O,this.handleRequestUserInfoEvent),this.registerEventHandler(y,this.handleCloseLoginModalEvent),this.registerEventHandler(M,this.handleRenameUserNameEvent)}handleLoginEvent(){s.login()}handleLogoutEvent(){s.logout()}handleGetUserInfoEvent(){s.getUserInfo()}handleGetUTokenEvent(){s.getUToken()}handleOpenSettingEvent(){a(o.buttonClick,{elementId:r.account}),s.openSetting()}handleOpenPointsHistoryEvent(){a(o.buttonClick,{elementId:r.points}),s.gotoPointsHistory()}handleOpenSafeRuleEvent(){a(o.buttonClick,{elementId:r.safety}),s.openSafeRule()}handleRequestUserInfoEvent(){s.requestUserInfo()}handleCloseLoginModalEvent(){s.closeLoginModal()}handleRenameUserNameEvent(n){s.renameUserName(n.name)}onDestroy(){super.onDestroy(),this.effectScope.stop()}}const _=p({__name:"Card",props:{borderRadius:{},aspectRatio:{},cardBgc:{}},setup(e){return(t,n)=>(g(),f("section",S({class:"x-card",style:{"--aspect-ratio":t.aspectRatio??"auto","--card-radius":`${t.borderRadius??0}px`,"--card-bgc":t.cardBgc||"none"}},t.$attrs),[m(t.$slots,"default",{},void 0,!0)],16))}}),P=u(_,[["__scopeId","data-v-621cc6e7"]]);export{P as Card,I as GetUTokenEvent,R as GetUserInfoEvent,U as LoginEvent,H as LogoutEvent,k as OpenPointsHistoryEvent,C as OpenSafeRuleEvent,L as OpenSettingEvent,M as RenameUserNameEvent,O as RequestUserInfoEvent,T as UserCenterViewModel};
