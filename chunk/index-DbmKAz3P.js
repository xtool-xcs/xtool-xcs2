var ir=Object.defineProperty;var or=(s,e,n)=>e in s?ir(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var z=(s,e,n)=>(or(s,typeof e!="symbol"?e+"":e,n),n),as=(s,e,n)=>{if(!e.has(s))throw TypeError("Cannot "+n)};var K=(s,e,n)=>(as(s,e,"read from private field"),n?n.call(s):e.get(s)),jt=(s,e,n)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,n)},Bt=(s,e,n,r)=>(as(s,e,"write to private field"),r?r.call(s,n):e.set(s,n),n);import{eventsExports as lr,LINE_POINT_COUNT as Lt,ShaderConfig as xt,updateUniforms as te,Vector3 as lt,ThreeRenderer as xr,Group as is,PlaneGeometry as ur,MeshBasicMaterial as pr,PLANE_COLOR as Cr,Mesh as cr,BufferGeometry as vr,PointsMaterial as hr,G0_COLOR as fr,Points as mr,CSS2DObject as _r,configGcodeToPoits as gr,getThreeJSObjects as Br,POINT_STEP_COUNT as Dr,BaseViewModel as As,sensorsTrack as se,ButtonNames as me,EventNames as ne,DEVICE_TYPE as Pr,MultiProcessManager as _e,taskManager as Ar,externalInterface as st,ProductType as nt,fileHelper as os,AxiosError as Er,appDataPath as wr,useViewModel as j,observeState as U,_export_sfc as H,__unplugin_components_0 as at,xcsApp as Z,useExtCenterStore as R,observeEffect as vt,useSystemBack as le,router as Vt,trackProcessingResult as Es,PROCESSING_STEP_NAMES as et,useDataSource as ws,DEVICE_PROCESSING_MODE as br,CommonPanel as Fr,MultiProjectViewModel as Sr,ModalCenterColumn as Re,PROCESS_START_POINT as yr,CONNECT_TYPE as kr,debounce as $r,PROCESSING_EVENT as Ht,getDomain as Or}from"./main-f7BGirYr.js";import{WORK_FILE_CODE as ge,CheckProcessViewModel as Ir,WalkBorderViewModel as bs,RequestDeviceStatusEvent as Rr,CheckType as ls,WalkBorderEvent as xs,StopWalkBorderEvent as us,CheckProcessEvent as Tr}from"./checkprocessviewmodel-tS8tDPuW.js";import{getDefaultExportFromCjs as Mr,getAugmentedNamespace as Fs}from"../assets/index-FfF0Lcw0.js";import{defineComponent as O,ref as B,onMounted as mt,openBlock as C,createElementBlock as I,createBaseVNode as v,createVNode as w,toDisplayString as E,createCommentVNode as Q,withCtx as _,Fragment as ht,renderSlot as d,computed as S,watch as Kt,onUnmounted as Rt,createBlock as g,createTextVNode as Dt,unref as V,normalizeClass as ft,resolveDynamicComponent as k,createSlots as Nr,withDirectives as ae,vShow as ie,vue_runtime_esmBundler as jr,watchEffect as ps,mergeProps as Ur,reactive as be,nextTick as Ss,withModifiers as Cs,pushScopeId as Lr,popScopeId as Vr,resolveComponent as Hr,toRaw as cs}from"./importmap-vue-u6Q_1Jji.js";import{Loading as ys,Overlay as Gr,Field as zr,Button as rt,Popup as Jt,NavBar as ks,Slider as Qr,Picker as Wr,Switch as Kr,Cell as Jr,CellGroup as Yr,index_esm as qr,CountDown as Zr,Image as Xr,Dialog as dr,Progress as ta}from"./importmap-vant-Ij4SMMwJ.js";import{useI18n as wt}from"./importmap-vue-i18n-LlhaB8iP.js";import{useRouter as Yt,useRoute as $s}from"./importmap-vue-router-aHGpzyJi.js";import{deviceConfigReady as Os}from"./apconnectconfig-XbZ4D7sa.js";import"./index-km_fhrhL.js";class Is{constructor(e,n){this.gCodeUrl=e,this.container=n}}class Gt{}class Te{constructor(e){this.progress=e}}class Rs{constructor(e){this.speed=e}}class Ts{constructor(e=!1){this.isReset=e}}class ea{constructor(e){this.size=e}}class sa{constructor(e){this.isZoomOut=e}}class Ms{}class Me{}var zt=function(){var s=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(p){p.preventDefault(),r(++s%e.children.length)},!1);function n(p){return e.appendChild(p.dom),p}function r(p){for(var c=0;c<e.children.length;c++)e.children[c].style.display=c===p?"block":"none";s=p}var a=(performance||Date).now(),o=a,i=0,l=n(new zt.Panel("FPS","#0ff","#002")),u=n(new zt.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var x=n(new zt.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:n,showPanel:r,begin:function(){a=(performance||Date).now()},end:function(){i++;var p=(performance||Date).now();if(u.update(p-a,200),p>=o+1e3&&(l.update(i*1e3/(p-o),100),o=p,i=0,x)){var c=performance.memory;x.update(c.usedJSHeapSize/1048576,c.jsHeapSizeLimit/1048576)}return p},update:function(){a=this.end()},domElement:e,setMode:r}};zt.Panel=function(s,e,n){var r=1/0,a=0,o=Math.round,i=o(window.devicePixelRatio||1),l=80*i,u=48*i,x=3*i,p=2*i,c=3*i,h=15*i,D=74*i,P=30*i,b=document.createElement("canvas");b.width=l,b.height=u,b.style.cssText="width:80px;height:48px";var A=b.getContext("2d");return A.font="bold "+9*i+"px Helvetica,Arial,sans-serif",A.textBaseline="top",A.fillStyle=n,A.fillRect(0,0,l,u),A.fillStyle=e,A.fillText(s,x,p),A.fillRect(c,h,D,P),A.fillStyle=n,A.globalAlpha=.9,A.fillRect(c,h,D,P),{dom:b,update:function(M,f){r=Math.min(r,M),a=Math.max(a,M),A.fillStyle=n,A.globalAlpha=1,A.fillRect(0,0,l,h),A.fillStyle=e,A.fillText(o(M)+" "+s+" ("+o(r)+"-"+o(a)+")",x,p),A.drawImage(b,c+i,h,D-i,P,c,h,D-i,P),A.fillRect(c+D-i,h,i,P),A.fillStyle=n,A.globalAlpha=.9,A.fillRect(c+D-i,h,i,o((1-M/f)*P))}}};const{distance:Be,distanceForLine2:Ut}=xt.attributeKeys;var Y,Ot,Pt;const ut=class ut extends lr.EventEmitter{constructor(){super();z(this,"state",ut.INITIAL_STATE);z(this,"animationFrameId",null);z(this,"drawStepScale",1);z(this,"countRange",[]);z(this,"drawStepCount",Lt);z(this,"totalCount",0);z(this,"totalDistance",0);z(this,"step",1);z(this,"speed",1);jt(this,Y,[]);jt(this,Ot,0);jt(this,Pt,0);z(this,"lastUpdateTime",0);z(this,"updateInterval",Math.floor(1e3/60/this.drawStepScale));this.resetStatus()}get objects(){return K(this,Y)}set objects(n){var o,i,l,u;Bt(this,Y,n);const r=(u=(l=(i=(o=K(this,Y)[K(this,Y).length-1])==null?void 0:o.geometry)==null?void 0:i.attributes)==null?void 0:l[Be])==null?void 0:u.array;if(!r)return;this.totalDistance=r[r.length-1],xt.clipDistance=this.totalDistance;let a=0;K(this,Y).forEach(x=>{x.geometry.index?a+=x.geometry.index.count:a+=x.geometry.attributes.position.count,this.countRange.push(a),te(x)}),this.totalCount=a}get drawCount(){return K(this,Ot)}set drawCount(n){Bt(this,Ot,n),this.emit("progress",{loaded:n,total:this.totalCount})}get drawDistance(){return K(this,Pt)}set drawDistance(n){Bt(this,Pt,n),this.emit("progress",{loaded:n,total:this.totalDistance})}get isFinished(){return this.totalDistance===this.drawDistance}resetStatus(){this.animationFrameId=0,this.state=0,this.drawDistance=0}findIndex(n){for(let r=0;r<this.countRange.length;r++)if(this.countRange[r]>=n)return r;return-1}getCoordByPoints(n,r,a){const i=new lt().subVectors(r,n).normalize().multiplyScalar(a);return n.add(i)}getMarkPosition(){var n,r;if(this.drawDistance>0)for(let a=0;a<K(this,Y).length;a++){const o=K(this,Y)[a];let i=o.geometry.attributes[Be].array;(r=(n=o.geometry.attributes)==null?void 0:n[Ut])!=null&&r.array&&(i=o.geometry.attributes[Ut].array);for(let l=0;l<i.length;l++){const u=i[l];if(xt.clipDistance<=u){let x=o.geometry.getAttribute("position");o.geometry.attributes[Ut]&&(x=o.geometry.getAttribute("instanceEnd"));let p,c;if(l===0){if(a-1<0)return new lt().fromBufferAttribute(x,0);const b=K(this,Y)[a-1],A=b.geometry.getAttribute("position");c=new lt().fromBufferAttribute(A,A.array.length/3-1);const M=b.geometry.attributes[Be].array;p=M[M.length-1]}else o.geometry.attributes[Ut]?c=new lt(x.array[(l-1)*3],x.array[(l-1)*3+1],x.array[(l-1)*3+2]):c=new lt().fromBufferAttribute(x,Math.max(l-1,0)),p=i[l-1];let h=null;o.geometry.attributes[Ut]?h=new lt(x.array[l*3],x.array[l*3+1],x.array[l*3+2]):h=new lt().fromBufferAttribute(x,Math.max(l,0));const D=xt.clipDistance-p;return this.getCoordByPoints(c,h,D>0?D:0)}}}else{const a=K(this,Y)[0].geometry.getAttribute("position");return new lt().fromBufferAttribute(a,0)}}updateDrawRange(n,r=!0){xt.clipDistance=n,K(this,Y).forEach(o=>{te(o)});const a=this.getMarkPosition();this.emit("updatedPosition",r?(a==null?void 0:a.toArray())??[]:[])}updateDrawPointRange(n,r,a=!0,o=!0){K(this,Y).forEach(l=>{te(l)});const i=K(this,Y)[n].geometry;if(i.setDrawRange(0,r),a){const l=i.getAttribute("position"),u=new lt().fromBufferAttribute(l,Math.max(r-1,0));this.emit("updatedPosition",o?u.toArray():[])}}updatePosition(n){this.drawDistance+=n,this.drawDistance>this.totalDistance?this.drawDistance=this.totalDistance:this.drawDistance<0&&(this.drawDistance=0),this.updateDrawRange(this.drawDistance)}updatePointPosition(n,r,a){if(r===-1)return;const o=this.countRange[r];let i=Math.min(n,o);this.drawStepCount===Lt&&n===2&&(i+=1);const l=i-(this.countRange[r-1]??0);if(this.updateDrawPointRange(r,l,!0,a),n>=o&&r<this.countRange.length-1){const u=n-o;this.updateDrawPointRange(r+1,u,!0,a),i+=u}a&&(this.drawCount=i)}stopAnimate(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}startAnimate(n=0){if(n-this.lastUpdateTime>=this.updateInterval){if(K(this,Pt)===this.totalDistance&&this.speed>0||K(this,Pt)===0&&this.speed<0){this.updatePosition(0),this.stopAnimate();return}this.updatePosition(this.step*this.speed),this.lastUpdateTime=n}this.animationFrameId=requestAnimationFrame(this.startAnimate.bind(this))}startPointAnimate(n=0){n-this.lastUpdateTime>=this.updateInterval&&(this.lastUpdateTime=n),this.animationFrameId=requestAnimationFrame(this.startAnimate.bind(this))}play(){(this.state===ut.INITIAL_STATE||this.isFinished)&&this.speed>0&&this.reset(),this.startAnimate()}pause(){this.state=ut.PAUSED_STATE,this.stopAnimate()}hideAll(){this.drawStepCount!==Lt&&K(this,Y).forEach(n=>{n.geometry.setDrawRange(0,0)})}showAll(){this.drawStepCount!==Lt&&K(this,Y).forEach(n=>{n.material.uniforms.showRedLine.value=xt.showRedLine,n.geometry.setDrawRange(0,n.geometry.attributes.position.count)})}reset(){this.stopAnimate(),this.resetStatus()}show(){this.resetStatus(),this.stopAnimate()}oneStep(n=1){this.pause(),this.state=ut.PAUSED_STATE;const r=n*this.step*this.speed;this.updatePosition(r)}onePointStep(n=1){const r=K(this,Ot)+n,a=this.findIndex(r);a!==-1&&(this.pause(),this.state=ut.PAUSED_STATE,this.updatePointPosition(r,a))}stepForward(){this.oneStep(1)}stepBackward(){this.oneStep(-1)}stepPointForward(){this.drawCount===0&&this.reset(),this.oneStep(this.drawStepCount*this.drawStepScale)}stepPointBackward(){this.oneStep(-this.drawStepCount*this.drawStepScale)}goto(n){this.pause(),this.drawDistance=n,this.updateDrawRange(this.drawDistance)}updateSpeedScale(n){this.speed=n}toggleShowRedLine(){const{showRedLine:n}=xt;xt.showRedLine=!n,K(this,Y).forEach(r=>{te(r)})}dispose(){this.stopAnimate(),Bt(this,Y,[]),this.drawDistance=0,this.totalDistance=0,this.state=ut.INITIAL_STATE,this.animationFrameId=0,this.drawStepScale=1,this.totalCount=0,this.countRange=[],xt.showRedLine=!0}};Y=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,z(ut,"INITIAL_STATE",0),z(ut,"PAUSED_STATE",1);let Fe=ut;var It;class na{constructor(e,n){jt(this,It,{width:0,height:0});z(this,"renderer");z(this,"motion");z(this,"plane");z(this,"mark");z(this,"stats");const{showStatsPanel:r=!1,bgColor:a}=n,o=e.clientWidth,i=e.clientHeight;Bt(this,It,{width:o,height:i}),this.renderer=new xr(e,{size:K(this,It),bgColor:a}),this.motion=new Fe,this.mark=this.createPointMarker(),r&&(this.stats=new zt,document.body.appendChild(this.stats.dom),this.statsUpdate()),this.init()}set size(e){Bt(this,It,e),this.renderer.resize(e);const{x:n,y:r,z:a}=this.motion.getMarkPosition();this.updatedPosition(n,r,a),this.renderer.render()}statsUpdate(){var e;requestAnimationFrame(this.statsUpdate.bind(this)),(e=this.stats)==null||e.update()}updatedPosition(e,n,r){this.mark&&!isNaN(e)&&!isNaN(n)&&!isNaN(r)&&this.mark.position.set(e,n,r),this.renderer.render()}init(){this.motion.on("updatedPosition",([e,n,r])=>{this.updatedPosition(e,n,r)})}createPlane(e,n){const r=new is,a=new ur(e,n),o=new pr({color:Cr}),i=new cr(a,o);return i.position.x=e/2,i.position.y=n/2,r.add(i),r}createStartMarker(){const e=new vr().setFromPoints([new lt(0,0,0)]),n=new hr({color:fr,size:1,transparent:!0,opacity:.5});return new mr(e,n)}createPointMarker(){const e=document.createElement("div");e.className="cross",e.style.cssText=`
      position: relative;
      width: 12px;
      height: 12px;
    `;const n=document.styleSheets[0],r="content: ''; position: absolute; background-color: #FF0000;display: flex;";n.insertRule(`.cross:before { ${r} width: 1px; height: 100%;left: 50%; transform: translateX(-50%); }`,0),n.insertRule(`.cross:after { ${r} width: 100%; height: 1px;top: 50%; transform: translateY(-50%);}`,0);const a=new _r(e);return a.position.set(0,0,0),a}render(){this.renderer.render()}isSamePoint(e,n){return e[0]===n[0]&&e[1]===n[1]}async renderGCode(e){console.time("renderGCode"),console.time("configGcodeToPoits");const{pointPathPre:n,fileCount:r}=await gr(e);if(!n||!r){console.error("config gcode to points error");return}console.timeEnd("configGcodeToPoits"),console.log("对象个数",r),console.time("getThreeJSObjects");const{objects:a,lineMode:o}=await Br(n,r);if(console.timeEnd("getThreeJSObjects"),!a||!a.length){console.error("get threejs objects error");return}const i=new is;i.name="gcode";for(let p=0;p<a.length;p++)i.add(a[p]);this.motion.objects=a,this.renderer.addToScene(i),this.renderer.addToScene(this.mark),this.renderer.render(),this.renderer.fitToCenter(i),this.motion.drawStepCount=o?Lt:Dr,console.timeEnd("renderGCode");const{x:l,y:u,z:x}=this.motion.getMarkPosition();this.updatedPosition(l,u,x)}resetMarkPosition(){this.motion.resetStatus();const{x:e,y:n,z:r}=this.motion.getMarkPosition();this.updatedPosition(e,n,r)}sceneDispose(){this.motion.dispose(),this.renderer.emptyScene()}}It=new WeakMap;class ra{constructor(){z(this,"gCodeRenderer",null)}async startRender(e,n,r,a){this.gCodeRenderer=new na(n,{bgColor:"#F7F9FB"}),this.gCodeRenderer.motion.on("progress",r),this.gCodeRenderer.motion.on("stop",a),await this.gCodeRenderer.renderGCode(e)}play(){var e;(e=this.gCodeRenderer)==null||e.motion.play()}pause(){var e;(e=this.gCodeRenderer)==null||e.motion.pause()}updateProgress(e){var n;(n=this.gCodeRenderer)==null||n.motion.goto(e)}updateSpeed(e){var n;(n=this.gCodeRenderer)==null||n.motion.updateSpeedScale(e)}toggleShowRedLine(){var e,n;(e=this.gCodeRenderer)==null||e.motion.toggleShowRedLine(),(n=this.gCodeRenderer)==null||n.render()}updateSize(e){this.gCodeRenderer&&(this.gCodeRenderer.size=e)}zoomOut(){var e;(e=this.gCodeRenderer)==null||e.renderer.zoomOut()}zoomIn(){var e;(e=this.gCodeRenderer)==null||e.renderer.zoomIn()}fitToCenter(){var e;(e=this.gCodeRenderer)==null||e.renderer.fitToCenter("gcode")}getTotalDistance(){var e;return((e=this.gCodeRenderer)==null?void 0:e.motion.totalDistance)??0}watchControlsDistance(e){var n;(n=this.gCodeRenderer)==null||n.renderer.watchControlsDistance(e)}getCenterControlsDistance(){var e;return((e=this.gCodeRenderer)==null?void 0:e.renderer.getCenterControlsDistance())??0}resetMarkPosition(){var e;(e=this.gCodeRenderer)==null||e.resetMarkPosition()}dispose(){var e;(e=this.gCodeRenderer)==null||e.sceneDispose()}}class Tt extends As{constructor(){super();z(this,"gCodeRenderManager",null);z(this,"container",null);this.gCodeRenderManager=new ra}createState(){return{renderLoading:!0,isPlaying:!1,progress:0,totalProgress:0,estimatedDuration:-1,zoomRatio:1}}setEventHandler(){this.registerEventHandler(Is,this.startRender),this.registerEventHandler(Gt,this.togglePlay),this.registerEventHandler(Te,this.updateProgress),this.registerEventHandler(Rs,this.updateSpeed),this.registerEventHandler(Ts,this.toggleShowRedLine),this.registerEventHandler(ea,this.updateSize),this.registerEventHandler(sa,this.updateZoom),this.registerEventHandler(Me,this.fitToCenter),this.registerEventHandler(Ms,this.prepareReRender)}async startRender(n){var r,a,o;if(!this.container)this.container=document.createElement("div"),this.container.style.width=`${n.container.clientWidth}px`,this.container.style.height=`${n.container.clientHeight}px`,n.container.appendChild(this.container);else{this.container.style.width=`${n.container.clientWidth}px`,this.container.style.height=`${n.container.clientHeight}px`,n.container.appendChild(this.container),(r=this.gCodeRenderManager)==null||r.updateSize({width:n.container.clientWidth,height:n.container.clientHeight}),(a=this.gCodeRenderManager)==null||a.resetMarkPosition(),this.fitToCenter();return}await((o=this.gCodeRenderManager)==null?void 0:o.startRender(n.gCodeUrl,this.container,({loaded:i,total:l})=>{i!==this.uiState.progress&&this.updateState({progress:i}),i===l&&this.updateState({isPlaying:!1})},()=>{this.updateState({isPlaying:!1})}).then(()=>{var i,l,u;this.updateState({totalProgress:(i=this.gCodeRenderManager)==null?void 0:i.getTotalDistance()}),this.updateState({progress:0}),(l=this.gCodeRenderManager)==null||l.watchControlsDistance(x=>{var h;if(!this.gCodeRenderManager)return;const p=((h=this.gCodeRenderManager)==null?void 0:h.getCenterControlsDistance())/x,c=parseFloat(p.toFixed(2));console.log("zoomRatio",c),c&&this.updateState({zoomRatio:c})}),(u=this.gCodeRenderManager)==null||u.updateSize({width:n.container.clientWidth,height:n.container.clientHeight})}).finally(()=>{this.updateState({renderLoading:!1})}))}togglePlay(){var n,r;this.uiState.isPlaying?(se(ne.buttonClick,{buttonName:me.processPreviewPlayButton,type:"pause"}),(n=this.gCodeRenderManager)==null||n.pause()):(se(ne.buttonClick,{buttonName:me.processPreviewPlayButton,type:"play"}),(r=this.gCodeRenderManager)==null||r.play()),this.updateState({isPlaying:!this.uiState.isPlaying})}updateProgress(n){var r;this.updateState({isPlaying:!1}),(r=this.gCodeRenderManager)==null||r.updateProgress(n.progress)}updateSpeed(n){var r;se(ne.buttonClick,{buttonName:me.gear,pageName:"preview",x:n.speed}),(r=this.gCodeRenderManager)==null||r.updateSpeed(n.speed)}toggleShowRedLine(n){var r,a;if(n.isReset){xt.showRedLine||(r=this.gCodeRenderManager)==null||r.toggleShowRedLine();return}(a=this.gCodeRenderManager)==null||a.toggleShowRedLine()}updateSize(n){var r;(r=this.gCodeRenderManager)==null||r.updateSize(n.size)}updateZoom(n){var r,a;n.isZoomOut?(r=this.gCodeRenderManager)==null||r.zoomIn():(a=this.gCodeRenderManager)==null||a.zoomOut()}fitToCenter(){var n;(n=this.gCodeRenderManager)==null||n.fitToCenter()}prepareReRender(){}release(){var n,r;(n=this.gCodeRenderManager)==null||n.dispose(),(r=this.container)==null||r.remove(),this.gCodeRenderManager=null,this.container=null}onDestroy(){super.onDestroy(),this.release()}}class Ns{constructor(e,n){this.instanceId=e,this.taskId=n}}class js{constructor(e){this.taskId=e}}class Us{}class Ne{}class Ls{}class xe{}class Vs{}class Hs{}class Gs{constructor(e){this.visible=e}}class zs{}class aa{}class ia{}class Qs{}class oa{}class Ws{constructor(e){this.fileName=e}}class la{constructor(e){this.movingLaserHeadStatus=e}}class Ks{constructor(e){this.stepName=e}}class Js{}class xa{}class J extends As{constructor(){super(...arguments);z(this,"multiProcess");z(this,"lastEffectScope",null)}createState(){return{isCalculateGCode:!1,gCodePath:"",calculateEstimatedTime:!1,uploadPercentage:0,isUploadingGCode:!1,cancelUploadLoading:!1,m1HasChecked:!1,m1NeedCheckAgain:!1,m1ProcessCheckBottomStatus:"",m1ProcessCheckHeaderStatus:"",dAirAssistTipShow:!1,cancelProcessingLoadingState:{},pauseProcessingLoadingState:{},totalTimeState:{},timeUseState:{},showReadyPopState:{},stepNameState:{},pressHeatingVisibleState:{},isDeviceInProcessingState:{},isProcessingPausedState:{},isProcessingFinishedState:{},isProcessingCanceledState:{},currentProcessState:{},canUpdatePage:{},isRepeatProcess:{},processStartPoint:{},isFinishLeanFourDevice:{},shouldBackToOrigin:{},uploadChecking:{},deviceSupType:Pr.DEVICE_ONE,processingImage:"",takeProcessingPhotoLoading:!1,saveProcessingPhotoLoading:!1,backupProcessingFileLoading:!1,isShowSaveProcessingPhotoPopup:!1,isShowEstimateTime:!0,isShowCountTime:!1,movingLaserHeadStatus:!1,isConnected:!1}}setEventHandler(){this.registerEventHandler(Ns,this.addProcess),this.registerEventHandler(js,this.calculateGCode),this.registerEventHandler(Us,this.uploadGCode),this.registerEventHandler(Ne,this.cancelUploadGCode),this.registerEventHandler(Ls,this.pauseProcess),this.registerEventHandler(Vs,this.restartProcess),this.registerEventHandler(Hs,this.repeatProcess),this.registerEventHandler(xe,this.cancelProcess),this.registerEventHandler(Gs,this.updateReadyPopState),this.registerEventHandler(zs,this.checkBeforeProcessOnM1),this.registerEventHandler(aa,this.checkBeforeRestartProcessOnM1),this.registerEventHandler(ia,this.takeProcessingPhoto),this.registerEventHandler(Qs,this.saveProcessingPhoto),this.registerEventHandler(oa,this.closeSaveProcessingPhotoPopup),this.registerEventHandler(Ws,this.backupProcessingFile),this.registerEventHandler(la,this.movingLaserHeadStatus),this.registerEventHandler(Ks,this.updateStepName),this.registerEventHandler(Js,this.removeProcess),this.registerEventHandler(xa,this.resetProcessState)}watchProcessState(n){this.lastEffectScope=_e.instance.watchProcessState({pauseProcessingLoading:"pauseProcessingLoadingState",cancelProcessingLoading:"cancelProcessingLoadingState",totalTime:"totalTimeState",timeUse:"timeUseState",showReadyPop:"showReadyPopState",stepName:"stepNameState",pressHeatingVisible:"pressHeatingVisibleState",isDeviceInProcessing:"isDeviceInProcessingState",isProcessingPaused:"isProcessingPausedState",isProcessingFinished:"isProcessingFinishedState",isProcessingCanceled:"isProcessingCanceledState",currentProcessStatus:"currentProcessState",deviceSupType:"deviceSupType",isShowEstimateTime:"isShowEstimateTime",isShowCountTime:"isShowCountTime",isConnected:"isConnected",canUpdatePage:"canUpdatePage",isRepeatProcess:"isRepeatProcess",processStartPoint:"processStartPoint",isFinishLeanFourDevice:"isFinishLeanFourDevice",shouldBackToOrigin:"shouldBackToOrigin",uploadChecking:"uploadChecking"},r=>this.updateState(r),n)}addProcess(n){var r,a;this.multiProcess=_e.instance.addProcess(n.instanceId),(r=this.multiProcess)==null||r.setCanUpdatePage(!!n.taskId),this.updateState({dAirAssistTipShow:this.dAirAssistTipShow()}),this.watchProcessState(n.instanceId),(a=this.multiProcess)==null||a.requestLeanStatus()}async calculateGCode(n){var r,a,o,i;if(n.taskId){(r=this.multiProcess)==null||r.callProcessPage(n.taskId);const l=Ar.tempTask;l.id=n.taskId;const u=l.gcodePath;this.updateState({gCodePath:u}),console.log("task_gCodePath",u);return}try{const l=(a=this.multiProcess)==null?void 0:a.instanceId;if(!l)return;this.updateState({isCalculateGCode:!0}),this.updateState({calculateEstimatedTime:!0}),this.updateState({totalTimeState:{[l]:-1}});const u=await((o=this.multiProcess)==null?void 0:o.calculateGCode()),{code:x=""}=u||{};this.updateState({isCalculateGCode:!1,gCodePath:x}),console.log("appData_gCodePath",this.uiState.gCodePath);const p=await((i=this.multiProcess)==null?void 0:i.estimatedTime());localStorage.setItem("process_estimated_time",p),this.updateState({totalTimeState:{[l]:p}})}catch(l){console.error(l)}finally{this.updateState({isCalculateGCode:!1}),this.updateState({calculateEstimatedTime:!1})}}async uploadGCode(){var n,r,a;this.updateState({uploadPercentage:0}),st.isFrameMode()&&await((n=this.multiProcess)==null?void 0:n.stopWalkBorder()),this.updateState({isUploadingGCode:!0});try{await((a=this.multiProcess)==null?void 0:a.uploadGCode(o=>{this.updateState({uploadPercentage:Math.min(Number((o*100).toFixed(2)),100)})},this.uiState.totalTimeState[(r=this.multiProcess)==null?void 0:r.instanceId]))}catch(o){console.log(o),this.sendEffect({uploadGcodeError:{}})}finally{this.updateState({isUploadingGCode:!1})}}async cancelUploadGCode(){var n;this.updateState({cancelUploadLoading:!0}),await((n=this.multiProcess)==null?void 0:n.cancelUploadGCode()),this.updateState({cancelUploadLoading:!1})}async pauseProcess(){var n;await((n=this.multiProcess)==null?void 0:n.pauseProcess())}async restartProcess(){var n;await((n=this.multiProcess)==null?void 0:n.restartProcess())}async repeatProcess(){var n;await((n=this.multiProcess)==null?void 0:n.repeatProcess()),this.updateState({uploadPercentage:0})}async cancelProcess(){var n;if(this.uiState.isUploadingGCode){await this.cancelUploadGCode();return}await((n=this.multiProcess)==null?void 0:n.cancelProcess()),this.sendEffect({cancelProcessingSuccess:{}})}updateReadyPopState(n){var r;(r=this.multiProcess)==null||r.updateReadyPopState(n.visible)}updateStepName(n){var r;(r=this.multiProcess)==null||r.updateStepName(n.stepName)}async checkBeforeProcessOnM1(){return this.multiProcess&&nt.M2===st.getCurrentExt(this.multiProcess.instanceId).extId?(this.updateState({m1HasChecked:!0}),this.updateState({m1NeedCheckAgain:!1}),this.updateState({m1ProcessCheckBottomStatus:"loading"}),await this.getProcessModeInfo(),await this.checkProcessBottom(),this.uiState.m1ProcessCheckBottomStatus==="success"&&(this.updateState({m1ProcessCheckHeaderStatus:"loading"}),await this.checkProcessHead()),this.uiState.m1ProcessCheckBottomStatus==="success"&&this.uiState.m1ProcessCheckHeaderStatus==="success"&&this.updateState({m1HasChecked:!1}),this.updateState({m1NeedCheckAgain:[this.uiState.m1ProcessCheckBottomStatus,this.uiState.m1ProcessCheckHeaderStatus].includes("fail")}),!this.uiState.m1HasChecked):!0}async checkBeforeRestartProcessOnM1(){return this.multiProcess&&st.getCurrentExt(this.multiProcess.instanceId).extId===nt.M2?(await this.checkProcessBottom(),await this.checkProcessHead(),this.uiEffect.checkProcessBottomInfo.isSuccess&&this.uiEffect.checkProcessHeadInfo.isSuccess):!0}async getProcessModeInfo(){var n,r;if(this.multiProcess){const a=st.getCurrentExt(this.multiProcess.instanceId),o=(r=(n=a.dataSource)==null?void 0:n.currentDeviceData)==null?void 0:r.mode,{headName:i}=await a.getProcessModeInfo(o);this.sendEffect({processModeInfo:{headName:i}})}}async checkProcessBottom(){if(this.multiProcess){const n=st.getCurrentExt(this.multiProcess.instanceId),r=n.dataSource,{isSuccess:a,msg:o,toast:i}=await n.checkProcessBottomBoard(r);this.sendEffect({checkProcessBottomInfo:{isSuccess:a,msg:o,toast:i,title:"mobile.device.base_plate_exception",type:"baseBoard"}}),this.updateState({m1ProcessCheckBottomStatus:a?"success":"fail"})}}async checkProcessHead(){if(this.multiProcess){const n=st.getCurrentExt(this.multiProcess.instanceId),r=n.dataSource,{isSuccess:a,msg:o,toast:i}=await n.checkProcessHead(r);this.sendEffect({checkProcessHeadInfo:{isSuccess:a,msg:o,toast:i}}),this.updateState({m1ProcessCheckHeaderStatus:"loading"})}}dAirAssistTipShow(){var n,r;return[nt.D1Pro,nt.D1Pro2].includes((r=st.getCurrentExt((n=this.multiProcess)==null?void 0:n.instanceId))==null?void 0:r.id)&&(st.getInfo().power??0)===40}removeProcess(){this.multiProcess&&_e.instance.removeProcess(this.multiProcess.instanceId)}resetProcessState(){var n;(n=this.multiProcess)==null||n.resetProcessStatus()}async takeProcessingPhoto(){}async saveProcessingPhoto(){if(this.multiProcess){const n=st.getCurrentExt(this.multiProcess.instanceId),a=await window.MeApi.permission.grantPhotoPermission();if(console.log("====grantPhotoPermission",a),!a){n.appContext.showMessage({contentI18nKey:"相册权限未开启"});return}this.closeSaveProcessingPhotoPopup(),this.updateState({saveProcessingPhotoLoading:!0});const o=n.deviceInfo.workFileStatus.processingImage,i=`${wr}/processingImage.jpg`;await os.write(i,o),await os.saveImageToAlbum(i),this.updateState({saveProcessingPhotoLoading:!1}),n.appContext.showMessage({contentI18nKey:"device.gs002.take_photo_success"})}}closeSaveProcessingPhotoPopup(){this.updateState({isShowSaveProcessingPhotoPopup:!1}),window.URL.revokeObjectURL(this.uiState.processingImage)}backupProcessingFile(n){var r;if(this.multiProcess){const a=st.getCurrentExt(this.multiProcess.instanceId),o=n.fileName;if((r=o.match(/[\/\\:*?"'<>|&!();`.\ ]/g))!=null&&r.length||o===""){a.appContext.showMessage({contentI18nKey:"device.gs002.format_error",type:"warning"});return}this.updateState({backupProcessingFileLoading:!0}),a.updateWorkFileStatus({backup:!0});const i={filename:o,filetype:"xf"};a.apis.backupFiles({data:i}).then(()=>{a.appContext.showMessage({contentI18nKey:ge[0]}),this.sendEffect({closeBackupProcessingFilePopup:{}})}).catch(l=>{l instanceof Er?a.appContext.showMessage({contentI18nKey:ge[4],type:"warning"}):a.appContext.showMessage({contentI18nKey:ge[l.code],type:"warning"})}).finally(()=>{this.updateState({backupProcessingFileLoading:!1}),a.updateWorkFileStatus({backup:!1})})}}movingLaserHeadStatus(n){this.updateState({movingLaserHeadStatus:n.movingLaserHeadStatus})}onDestroy(){var n,r,a;super.onDestroy(),(n=this.lastEffectScope)==null||n.stop(),(r=this.multiProcess)==null||r.setIsRepeatProcess(!1),(a=this.multiProcess)!=null&&a.shouldReserveProcess()||(console.log("MultiProcessViewModel Destroy removeProcess"),this.removeProcess())}}const ua=O({__name:"GCode",setup(s){const e=j(J),n=j(Tt),r=B();return mt(()=>{U(()=>e.uiState.gCodePath,a=>{a&&n.sendEvent(new Is(a,r.value))})}),(a,o)=>(C(),I("div",{ref_key:"previewRef",ref:r,class:"process-preview"},null,512))}}),pa=H(ua,[["__scopeId","data-v-77d8f9fe"]]),Ca={class:"canvas-wrapper"},ca={class:"g-code"},va={key:0,class:"original-status"},ha={class:"scale"},fa=O({__name:"CanvasContent",props:{operate:{type:Boolean}},setup(s){const e=j(Tt),n=B();U(()=>e.uiState.renderLoading,o=>{n.value=o});const r=B(100);U(()=>e.uiState.zoomRatio,o=>{r.value=Math.round(o*100)});const a=()=>{e.sendEvent(new Me)};return(o,i)=>{const l=at,u=ys,x=Gr;return C(),I(ht,null,[v("div",Ca,[v("div",ca,[w(pa),o.operate?(C(),I("div",va,[v("span",ha,E(r.value)+"%",1),w(l,{name:"focus",class:"f-s-20",onClick:a})])):Q("",!0)])]),w(x,{show:n.value,class:"common-overlay"},{default:_(()=>[w(u,{vertical:"",class:"common-loading"},{icon:_(()=>[w(l,{name:"mk-toast-loading",class:"common-loading-icon"})]),_:1})]),_:1},8,["show"])],64)}}}),qt=H(fa,[["__scopeId","data-v-a0e6f506"]]),ma={class:"process-container"},_a={class:"process-header"},ga={class:"process-main"},Ba={class:"process-content"},Da={class:"process-canvas"},Pa={class:"process-card"},Aa={class:"process-footer"},Ea=O({__name:"ProcessContainer",emits:[],setup(s,{emit:e}){return(n,r)=>(C(),I("div",ma,[v("div",_a,[d(n.$slots,"header",{},void 0,!0)]),v("div",ga,[d(n.$slots,"content",{},()=>[v("div",Ba,[v("div",Da,[d(n.$slots,"content-canvas",{},void 0,!0)]),v("div",Pa,[d(n.$slots,"content-card",{},void 0,!0)])]),d(n.$slots,"content-extra",{},void 0,!0)],!0)]),v("div",Aa,[d(n.$slots,"footer",{},void 0,!0)])]))}}),Zt=H(Ea,[["__scopeId","data-v-159a04b1"]]),wa=(s,e)=>{const n=B(navigator.onLine),r=()=>{n.value=!0,typeof s=="function"&&s()},a=()=>{n.value=!1,typeof e=="function"&&e()};return{isOnline:n,changeOnlineStatus:u=>{u?r():a()},listenNetwork:()=>{window.addEventListener("online",r),window.addEventListener("offline",a)},removeListenNetwork:()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}};var Ys={exports:{}};(function(s){function e(){var n=0,r=1,a=2,o=3,i=4,l=5,u=6,x=7,p=8,c=9,h=10,D=11,P=12,b=13,A=14,M=15,f=16,G=17,F=0,W=1,Ct=2,Mt=3,Ft=4;function Nt(t,y){return 55296<=t.charCodeAt(y)&&t.charCodeAt(y)<=56319&&56320<=t.charCodeAt(y+1)&&t.charCodeAt(y+1)<=57343}function St(t,y){y===void 0&&(y=0);var T=t.charCodeAt(y);if(55296<=T&&T<=56319&&y<t.length-1){var $=T,m=t.charCodeAt(y+1);return 56320<=m&&m<=57343?($-55296)*1024+(m-56320)+65536:$}if(56320<=T&&T<=57343&&y>=1){var $=t.charCodeAt(y-1),m=T;return 55296<=$&&$<=56319?($-55296)*1024+(m-56320)+65536:m}return T}function L(t,y,T){var $=[t].concat(y).concat([T]),m=$[$.length-2],N=T,it=$.lastIndexOf(A);if(it>1&&$.slice(1,it).every(function(ct){return ct==o})&&[o,b,G].indexOf(t)==-1)return Ct;var dt=$.lastIndexOf(i);if(dt>0&&$.slice(1,dt).every(function(ct){return ct==i})&&[P,i].indexOf(m)==-1)return $.filter(function(ct){return ct==i}).length%2==1?Mt:Ft;if(m==n&&N==r)return F;if(m==a||m==n||m==r)return N==A&&y.every(function(ct){return ct==o})?Ct:W;if(N==a||N==n||N==r)return W;if(m==u&&(N==u||N==x||N==c||N==h))return F;if((m==c||m==x)&&(N==x||N==p))return F;if((m==h||m==p)&&N==p)return F;if(N==o||N==M)return F;if(N==l)return F;if(m==P)return F;var rs=$.indexOf(o)!=-1?$.lastIndexOf(o)-1:$.length-2;return[b,G].indexOf($[rs])!=-1&&$.slice(rs+1,-1).every(function(ct){return ct==o})&&N==A||m==M&&[f,G].indexOf(N)!=-1?F:y.indexOf(i)!=-1?Ct:m==i&&N==i?F:W}this.nextBreak=function(t,y){if(y===void 0&&(y=0),y<0)return 0;if(y>=t.length-1)return t.length;for(var T=q(St(t,y)),$=[],m=y+1;m<t.length;m++)if(!Nt(t,m-1)){var N=q(St(t,m));if(L(T,$,N))return m;$.push(N)}return t.length},this.splitGraphemes=function(t){for(var y=[],T=0,$;($=this.nextBreak(t,T))<t.length;)y.push(t.slice(T,$)),T=$;return T<t.length&&y.push(t.slice(T)),y},this.iterateGraphemes=function(t){var y=0,T={next:(function(){var $,m;return(m=this.nextBreak(t,y))<t.length?($=t.slice(y,m),y=m,{value:$,done:!1}):y<t.length?($=t.slice(y),y=t.length,{value:$,done:!1}):{value:void 0,done:!0}}).bind(this)};return typeof Symbol<"u"&&Symbol.iterator&&(T[Symbol.iterator]=function(){return T}),T},this.countGraphemes=function(t){for(var y=0,T=0,$;($=this.nextBreak(t,T))<t.length;)T=$,y++;return T<t.length&&y++,y};function q(t){return 1536<=t&&t<=1541||t==1757||t==1807||t==2274||t==3406||t==69821||70082<=t&&t<=70083||t==72250||72326<=t&&t<=72329||t==73030?P:t==13?n:t==10?r:0<=t&&t<=9||11<=t&&t<=12||14<=t&&t<=31||127<=t&&t<=159||t==173||t==1564||t==6158||t==8203||8206<=t&&t<=8207||t==8232||t==8233||8234<=t&&t<=8238||8288<=t&&t<=8292||t==8293||8294<=t&&t<=8303||55296<=t&&t<=57343||t==65279||65520<=t&&t<=65528||65529<=t&&t<=65531||113824<=t&&t<=113827||119155<=t&&t<=119162||t==917504||t==917505||917506<=t&&t<=917535||917632<=t&&t<=917759||918e3<=t&&t<=921599?a:768<=t&&t<=879||1155<=t&&t<=1159||1160<=t&&t<=1161||1425<=t&&t<=1469||t==1471||1473<=t&&t<=1474||1476<=t&&t<=1477||t==1479||1552<=t&&t<=1562||1611<=t&&t<=1631||t==1648||1750<=t&&t<=1756||1759<=t&&t<=1764||1767<=t&&t<=1768||1770<=t&&t<=1773||t==1809||1840<=t&&t<=1866||1958<=t&&t<=1968||2027<=t&&t<=2035||2070<=t&&t<=2073||2075<=t&&t<=2083||2085<=t&&t<=2087||2089<=t&&t<=2093||2137<=t&&t<=2139||2260<=t&&t<=2273||2275<=t&&t<=2306||t==2362||t==2364||2369<=t&&t<=2376||t==2381||2385<=t&&t<=2391||2402<=t&&t<=2403||t==2433||t==2492||t==2494||2497<=t&&t<=2500||t==2509||t==2519||2530<=t&&t<=2531||2561<=t&&t<=2562||t==2620||2625<=t&&t<=2626||2631<=t&&t<=2632||2635<=t&&t<=2637||t==2641||2672<=t&&t<=2673||t==2677||2689<=t&&t<=2690||t==2748||2753<=t&&t<=2757||2759<=t&&t<=2760||t==2765||2786<=t&&t<=2787||2810<=t&&t<=2815||t==2817||t==2876||t==2878||t==2879||2881<=t&&t<=2884||t==2893||t==2902||t==2903||2914<=t&&t<=2915||t==2946||t==3006||t==3008||t==3021||t==3031||t==3072||3134<=t&&t<=3136||3142<=t&&t<=3144||3146<=t&&t<=3149||3157<=t&&t<=3158||3170<=t&&t<=3171||t==3201||t==3260||t==3263||t==3266||t==3270||3276<=t&&t<=3277||3285<=t&&t<=3286||3298<=t&&t<=3299||3328<=t&&t<=3329||3387<=t&&t<=3388||t==3390||3393<=t&&t<=3396||t==3405||t==3415||3426<=t&&t<=3427||t==3530||t==3535||3538<=t&&t<=3540||t==3542||t==3551||t==3633||3636<=t&&t<=3642||3655<=t&&t<=3662||t==3761||3764<=t&&t<=3769||3771<=t&&t<=3772||3784<=t&&t<=3789||3864<=t&&t<=3865||t==3893||t==3895||t==3897||3953<=t&&t<=3966||3968<=t&&t<=3972||3974<=t&&t<=3975||3981<=t&&t<=3991||3993<=t&&t<=4028||t==4038||4141<=t&&t<=4144||4146<=t&&t<=4151||4153<=t&&t<=4154||4157<=t&&t<=4158||4184<=t&&t<=4185||4190<=t&&t<=4192||4209<=t&&t<=4212||t==4226||4229<=t&&t<=4230||t==4237||t==4253||4957<=t&&t<=4959||5906<=t&&t<=5908||5938<=t&&t<=5940||5970<=t&&t<=5971||6002<=t&&t<=6003||6068<=t&&t<=6069||6071<=t&&t<=6077||t==6086||6089<=t&&t<=6099||t==6109||6155<=t&&t<=6157||6277<=t&&t<=6278||t==6313||6432<=t&&t<=6434||6439<=t&&t<=6440||t==6450||6457<=t&&t<=6459||6679<=t&&t<=6680||t==6683||t==6742||6744<=t&&t<=6750||t==6752||t==6754||6757<=t&&t<=6764||6771<=t&&t<=6780||t==6783||6832<=t&&t<=6845||t==6846||6912<=t&&t<=6915||t==6964||6966<=t&&t<=6970||t==6972||t==6978||7019<=t&&t<=7027||7040<=t&&t<=7041||7074<=t&&t<=7077||7080<=t&&t<=7081||7083<=t&&t<=7085||t==7142||7144<=t&&t<=7145||t==7149||7151<=t&&t<=7153||7212<=t&&t<=7219||7222<=t&&t<=7223||7376<=t&&t<=7378||7380<=t&&t<=7392||7394<=t&&t<=7400||t==7405||t==7412||7416<=t&&t<=7417||7616<=t&&t<=7673||7675<=t&&t<=7679||t==8204||8400<=t&&t<=8412||8413<=t&&t<=8416||t==8417||8418<=t&&t<=8420||8421<=t&&t<=8432||11503<=t&&t<=11505||t==11647||11744<=t&&t<=11775||12330<=t&&t<=12333||12334<=t&&t<=12335||12441<=t&&t<=12442||t==42607||42608<=t&&t<=42610||42612<=t&&t<=42621||42654<=t&&t<=42655||42736<=t&&t<=42737||t==43010||t==43014||t==43019||43045<=t&&t<=43046||43204<=t&&t<=43205||43232<=t&&t<=43249||43302<=t&&t<=43309||43335<=t&&t<=43345||43392<=t&&t<=43394||t==43443||43446<=t&&t<=43449||t==43452||t==43493||43561<=t&&t<=43566||43569<=t&&t<=43570||43573<=t&&t<=43574||t==43587||t==43596||t==43644||t==43696||43698<=t&&t<=43700||43703<=t&&t<=43704||43710<=t&&t<=43711||t==43713||43756<=t&&t<=43757||t==43766||t==44005||t==44008||t==44013||t==64286||65024<=t&&t<=65039||65056<=t&&t<=65071||65438<=t&&t<=65439||t==66045||t==66272||66422<=t&&t<=66426||68097<=t&&t<=68099||68101<=t&&t<=68102||68108<=t&&t<=68111||68152<=t&&t<=68154||t==68159||68325<=t&&t<=68326||t==69633||69688<=t&&t<=69702||69759<=t&&t<=69761||69811<=t&&t<=69814||69817<=t&&t<=69818||69888<=t&&t<=69890||69927<=t&&t<=69931||69933<=t&&t<=69940||t==70003||70016<=t&&t<=70017||70070<=t&&t<=70078||70090<=t&&t<=70092||70191<=t&&t<=70193||t==70196||70198<=t&&t<=70199||t==70206||t==70367||70371<=t&&t<=70378||70400<=t&&t<=70401||t==70460||t==70462||t==70464||t==70487||70502<=t&&t<=70508||70512<=t&&t<=70516||70712<=t&&t<=70719||70722<=t&&t<=70724||t==70726||t==70832||70835<=t&&t<=70840||t==70842||t==70845||70847<=t&&t<=70848||70850<=t&&t<=70851||t==71087||71090<=t&&t<=71093||71100<=t&&t<=71101||71103<=t&&t<=71104||71132<=t&&t<=71133||71219<=t&&t<=71226||t==71229||71231<=t&&t<=71232||t==71339||t==71341||71344<=t&&t<=71349||t==71351||71453<=t&&t<=71455||71458<=t&&t<=71461||71463<=t&&t<=71467||72193<=t&&t<=72198||72201<=t&&t<=72202||72243<=t&&t<=72248||72251<=t&&t<=72254||t==72263||72273<=t&&t<=72278||72281<=t&&t<=72283||72330<=t&&t<=72342||72344<=t&&t<=72345||72752<=t&&t<=72758||72760<=t&&t<=72765||t==72767||72850<=t&&t<=72871||72874<=t&&t<=72880||72882<=t&&t<=72883||72885<=t&&t<=72886||73009<=t&&t<=73014||t==73018||73020<=t&&t<=73021||73023<=t&&t<=73029||t==73031||92912<=t&&t<=92916||92976<=t&&t<=92982||94095<=t&&t<=94098||113821<=t&&t<=113822||t==119141||119143<=t&&t<=119145||119150<=t&&t<=119154||119163<=t&&t<=119170||119173<=t&&t<=119179||119210<=t&&t<=119213||119362<=t&&t<=119364||121344<=t&&t<=121398||121403<=t&&t<=121452||t==121461||t==121476||121499<=t&&t<=121503||121505<=t&&t<=121519||122880<=t&&t<=122886||122888<=t&&t<=122904||122907<=t&&t<=122913||122915<=t&&t<=122916||122918<=t&&t<=122922||125136<=t&&t<=125142||125252<=t&&t<=125258||917536<=t&&t<=917631||917760<=t&&t<=917999?o:127462<=t&&t<=127487?i:t==2307||t==2363||2366<=t&&t<=2368||2377<=t&&t<=2380||2382<=t&&t<=2383||2434<=t&&t<=2435||2495<=t&&t<=2496||2503<=t&&t<=2504||2507<=t&&t<=2508||t==2563||2622<=t&&t<=2624||t==2691||2750<=t&&t<=2752||t==2761||2763<=t&&t<=2764||2818<=t&&t<=2819||t==2880||2887<=t&&t<=2888||2891<=t&&t<=2892||t==3007||3009<=t&&t<=3010||3014<=t&&t<=3016||3018<=t&&t<=3020||3073<=t&&t<=3075||3137<=t&&t<=3140||3202<=t&&t<=3203||t==3262||3264<=t&&t<=3265||3267<=t&&t<=3268||3271<=t&&t<=3272||3274<=t&&t<=3275||3330<=t&&t<=3331||3391<=t&&t<=3392||3398<=t&&t<=3400||3402<=t&&t<=3404||3458<=t&&t<=3459||3536<=t&&t<=3537||3544<=t&&t<=3550||3570<=t&&t<=3571||t==3635||t==3763||3902<=t&&t<=3903||t==3967||t==4145||4155<=t&&t<=4156||4182<=t&&t<=4183||t==4228||t==6070||6078<=t&&t<=6085||6087<=t&&t<=6088||6435<=t&&t<=6438||6441<=t&&t<=6443||6448<=t&&t<=6449||6451<=t&&t<=6456||6681<=t&&t<=6682||t==6741||t==6743||6765<=t&&t<=6770||t==6916||t==6965||t==6971||6973<=t&&t<=6977||6979<=t&&t<=6980||t==7042||t==7073||7078<=t&&t<=7079||t==7082||t==7143||7146<=t&&t<=7148||t==7150||7154<=t&&t<=7155||7204<=t&&t<=7211||7220<=t&&t<=7221||t==7393||7410<=t&&t<=7411||t==7415||43043<=t&&t<=43044||t==43047||43136<=t&&t<=43137||43188<=t&&t<=43203||43346<=t&&t<=43347||t==43395||43444<=t&&t<=43445||43450<=t&&t<=43451||43453<=t&&t<=43456||43567<=t&&t<=43568||43571<=t&&t<=43572||t==43597||t==43755||43758<=t&&t<=43759||t==43765||44003<=t&&t<=44004||44006<=t&&t<=44007||44009<=t&&t<=44010||t==44012||t==69632||t==69634||t==69762||69808<=t&&t<=69810||69815<=t&&t<=69816||t==69932||t==70018||70067<=t&&t<=70069||70079<=t&&t<=70080||70188<=t&&t<=70190||70194<=t&&t<=70195||t==70197||70368<=t&&t<=70370||70402<=t&&t<=70403||t==70463||70465<=t&&t<=70468||70471<=t&&t<=70472||70475<=t&&t<=70477||70498<=t&&t<=70499||70709<=t&&t<=70711||70720<=t&&t<=70721||t==70725||70833<=t&&t<=70834||t==70841||70843<=t&&t<=70844||t==70846||t==70849||71088<=t&&t<=71089||71096<=t&&t<=71099||t==71102||71216<=t&&t<=71218||71227<=t&&t<=71228||t==71230||t==71340||71342<=t&&t<=71343||t==71350||71456<=t&&t<=71457||t==71462||72199<=t&&t<=72200||t==72249||72279<=t&&t<=72280||t==72343||t==72751||t==72766||t==72873||t==72881||t==72884||94033<=t&&t<=94078||t==119142||t==119149?l:4352<=t&&t<=4447||43360<=t&&t<=43388?u:4448<=t&&t<=4519||55216<=t&&t<=55238?x:4520<=t&&t<=4607||55243<=t&&t<=55291?p:t==44032||t==44060||t==44088||t==44116||t==44144||t==44172||t==44200||t==44228||t==44256||t==44284||t==44312||t==44340||t==44368||t==44396||t==44424||t==44452||t==44480||t==44508||t==44536||t==44564||t==44592||t==44620||t==44648||t==44676||t==44704||t==44732||t==44760||t==44788||t==44816||t==44844||t==44872||t==44900||t==44928||t==44956||t==44984||t==45012||t==45040||t==45068||t==45096||t==45124||t==45152||t==45180||t==45208||t==45236||t==45264||t==45292||t==45320||t==45348||t==45376||t==45404||t==45432||t==45460||t==45488||t==45516||t==45544||t==45572||t==45600||t==45628||t==45656||t==45684||t==45712||t==45740||t==45768||t==45796||t==45824||t==45852||t==45880||t==45908||t==45936||t==45964||t==45992||t==46020||t==46048||t==46076||t==46104||t==46132||t==46160||t==46188||t==46216||t==46244||t==46272||t==46300||t==46328||t==46356||t==46384||t==46412||t==46440||t==46468||t==46496||t==46524||t==46552||t==46580||t==46608||t==46636||t==46664||t==46692||t==46720||t==46748||t==46776||t==46804||t==46832||t==46860||t==46888||t==46916||t==46944||t==46972||t==47e3||t==47028||t==47056||t==47084||t==47112||t==47140||t==47168||t==47196||t==47224||t==47252||t==47280||t==47308||t==47336||t==47364||t==47392||t==47420||t==47448||t==47476||t==47504||t==47532||t==47560||t==47588||t==47616||t==47644||t==47672||t==47700||t==47728||t==47756||t==47784||t==47812||t==47840||t==47868||t==47896||t==47924||t==47952||t==47980||t==48008||t==48036||t==48064||t==48092||t==48120||t==48148||t==48176||t==48204||t==48232||t==48260||t==48288||t==48316||t==48344||t==48372||t==48400||t==48428||t==48456||t==48484||t==48512||t==48540||t==48568||t==48596||t==48624||t==48652||t==48680||t==48708||t==48736||t==48764||t==48792||t==48820||t==48848||t==48876||t==48904||t==48932||t==48960||t==48988||t==49016||t==49044||t==49072||t==49100||t==49128||t==49156||t==49184||t==49212||t==49240||t==49268||t==49296||t==49324||t==49352||t==49380||t==49408||t==49436||t==49464||t==49492||t==49520||t==49548||t==49576||t==49604||t==49632||t==49660||t==49688||t==49716||t==49744||t==49772||t==49800||t==49828||t==49856||t==49884||t==49912||t==49940||t==49968||t==49996||t==50024||t==50052||t==50080||t==50108||t==50136||t==50164||t==50192||t==50220||t==50248||t==50276||t==50304||t==50332||t==50360||t==50388||t==50416||t==50444||t==50472||t==50500||t==50528||t==50556||t==50584||t==50612||t==50640||t==50668||t==50696||t==50724||t==50752||t==50780||t==50808||t==50836||t==50864||t==50892||t==50920||t==50948||t==50976||t==51004||t==51032||t==51060||t==51088||t==51116||t==51144||t==51172||t==51200||t==51228||t==51256||t==51284||t==51312||t==51340||t==51368||t==51396||t==51424||t==51452||t==51480||t==51508||t==51536||t==51564||t==51592||t==51620||t==51648||t==51676||t==51704||t==51732||t==51760||t==51788||t==51816||t==51844||t==51872||t==51900||t==51928||t==51956||t==51984||t==52012||t==52040||t==52068||t==52096||t==52124||t==52152||t==52180||t==52208||t==52236||t==52264||t==52292||t==52320||t==52348||t==52376||t==52404||t==52432||t==52460||t==52488||t==52516||t==52544||t==52572||t==52600||t==52628||t==52656||t==52684||t==52712||t==52740||t==52768||t==52796||t==52824||t==52852||t==52880||t==52908||t==52936||t==52964||t==52992||t==53020||t==53048||t==53076||t==53104||t==53132||t==53160||t==53188||t==53216||t==53244||t==53272||t==53300||t==53328||t==53356||t==53384||t==53412||t==53440||t==53468||t==53496||t==53524||t==53552||t==53580||t==53608||t==53636||t==53664||t==53692||t==53720||t==53748||t==53776||t==53804||t==53832||t==53860||t==53888||t==53916||t==53944||t==53972||t==54e3||t==54028||t==54056||t==54084||t==54112||t==54140||t==54168||t==54196||t==54224||t==54252||t==54280||t==54308||t==54336||t==54364||t==54392||t==54420||t==54448||t==54476||t==54504||t==54532||t==54560||t==54588||t==54616||t==54644||t==54672||t==54700||t==54728||t==54756||t==54784||t==54812||t==54840||t==54868||t==54896||t==54924||t==54952||t==54980||t==55008||t==55036||t==55064||t==55092||t==55120||t==55148||t==55176?c:44033<=t&&t<=44059||44061<=t&&t<=44087||44089<=t&&t<=44115||44117<=t&&t<=44143||44145<=t&&t<=44171||44173<=t&&t<=44199||44201<=t&&t<=44227||44229<=t&&t<=44255||44257<=t&&t<=44283||44285<=t&&t<=44311||44313<=t&&t<=44339||44341<=t&&t<=44367||44369<=t&&t<=44395||44397<=t&&t<=44423||44425<=t&&t<=44451||44453<=t&&t<=44479||44481<=t&&t<=44507||44509<=t&&t<=44535||44537<=t&&t<=44563||44565<=t&&t<=44591||44593<=t&&t<=44619||44621<=t&&t<=44647||44649<=t&&t<=44675||44677<=t&&t<=44703||44705<=t&&t<=44731||44733<=t&&t<=44759||44761<=t&&t<=44787||44789<=t&&t<=44815||44817<=t&&t<=44843||44845<=t&&t<=44871||44873<=t&&t<=44899||44901<=t&&t<=44927||44929<=t&&t<=44955||44957<=t&&t<=44983||44985<=t&&t<=45011||45013<=t&&t<=45039||45041<=t&&t<=45067||45069<=t&&t<=45095||45097<=t&&t<=45123||45125<=t&&t<=45151||45153<=t&&t<=45179||45181<=t&&t<=45207||45209<=t&&t<=45235||45237<=t&&t<=45263||45265<=t&&t<=45291||45293<=t&&t<=45319||45321<=t&&t<=45347||45349<=t&&t<=45375||45377<=t&&t<=45403||45405<=t&&t<=45431||45433<=t&&t<=45459||45461<=t&&t<=45487||45489<=t&&t<=45515||45517<=t&&t<=45543||45545<=t&&t<=45571||45573<=t&&t<=45599||45601<=t&&t<=45627||45629<=t&&t<=45655||45657<=t&&t<=45683||45685<=t&&t<=45711||45713<=t&&t<=45739||45741<=t&&t<=45767||45769<=t&&t<=45795||45797<=t&&t<=45823||45825<=t&&t<=45851||45853<=t&&t<=45879||45881<=t&&t<=45907||45909<=t&&t<=45935||45937<=t&&t<=45963||45965<=t&&t<=45991||45993<=t&&t<=46019||46021<=t&&t<=46047||46049<=t&&t<=46075||46077<=t&&t<=46103||46105<=t&&t<=46131||46133<=t&&t<=46159||46161<=t&&t<=46187||46189<=t&&t<=46215||46217<=t&&t<=46243||46245<=t&&t<=46271||46273<=t&&t<=46299||46301<=t&&t<=46327||46329<=t&&t<=46355||46357<=t&&t<=46383||46385<=t&&t<=46411||46413<=t&&t<=46439||46441<=t&&t<=46467||46469<=t&&t<=46495||46497<=t&&t<=46523||46525<=t&&t<=46551||46553<=t&&t<=46579||46581<=t&&t<=46607||46609<=t&&t<=46635||46637<=t&&t<=46663||46665<=t&&t<=46691||46693<=t&&t<=46719||46721<=t&&t<=46747||46749<=t&&t<=46775||46777<=t&&t<=46803||46805<=t&&t<=46831||46833<=t&&t<=46859||46861<=t&&t<=46887||46889<=t&&t<=46915||46917<=t&&t<=46943||46945<=t&&t<=46971||46973<=t&&t<=46999||47001<=t&&t<=47027||47029<=t&&t<=47055||47057<=t&&t<=47083||47085<=t&&t<=47111||47113<=t&&t<=47139||47141<=t&&t<=47167||47169<=t&&t<=47195||47197<=t&&t<=47223||47225<=t&&t<=47251||47253<=t&&t<=47279||47281<=t&&t<=47307||47309<=t&&t<=47335||47337<=t&&t<=47363||47365<=t&&t<=47391||47393<=t&&t<=47419||47421<=t&&t<=47447||47449<=t&&t<=47475||47477<=t&&t<=47503||47505<=t&&t<=47531||47533<=t&&t<=47559||47561<=t&&t<=47587||47589<=t&&t<=47615||47617<=t&&t<=47643||47645<=t&&t<=47671||47673<=t&&t<=47699||47701<=t&&t<=47727||47729<=t&&t<=47755||47757<=t&&t<=47783||47785<=t&&t<=47811||47813<=t&&t<=47839||47841<=t&&t<=47867||47869<=t&&t<=47895||47897<=t&&t<=47923||47925<=t&&t<=47951||47953<=t&&t<=47979||47981<=t&&t<=48007||48009<=t&&t<=48035||48037<=t&&t<=48063||48065<=t&&t<=48091||48093<=t&&t<=48119||48121<=t&&t<=48147||48149<=t&&t<=48175||48177<=t&&t<=48203||48205<=t&&t<=48231||48233<=t&&t<=48259||48261<=t&&t<=48287||48289<=t&&t<=48315||48317<=t&&t<=48343||48345<=t&&t<=48371||48373<=t&&t<=48399||48401<=t&&t<=48427||48429<=t&&t<=48455||48457<=t&&t<=48483||48485<=t&&t<=48511||48513<=t&&t<=48539||48541<=t&&t<=48567||48569<=t&&t<=48595||48597<=t&&t<=48623||48625<=t&&t<=48651||48653<=t&&t<=48679||48681<=t&&t<=48707||48709<=t&&t<=48735||48737<=t&&t<=48763||48765<=t&&t<=48791||48793<=t&&t<=48819||48821<=t&&t<=48847||48849<=t&&t<=48875||48877<=t&&t<=48903||48905<=t&&t<=48931||48933<=t&&t<=48959||48961<=t&&t<=48987||48989<=t&&t<=49015||49017<=t&&t<=49043||49045<=t&&t<=49071||49073<=t&&t<=49099||49101<=t&&t<=49127||49129<=t&&t<=49155||49157<=t&&t<=49183||49185<=t&&t<=49211||49213<=t&&t<=49239||49241<=t&&t<=49267||49269<=t&&t<=49295||49297<=t&&t<=49323||49325<=t&&t<=49351||49353<=t&&t<=49379||49381<=t&&t<=49407||49409<=t&&t<=49435||49437<=t&&t<=49463||49465<=t&&t<=49491||49493<=t&&t<=49519||49521<=t&&t<=49547||49549<=t&&t<=49575||49577<=t&&t<=49603||49605<=t&&t<=49631||49633<=t&&t<=49659||49661<=t&&t<=49687||49689<=t&&t<=49715||49717<=t&&t<=49743||49745<=t&&t<=49771||49773<=t&&t<=49799||49801<=t&&t<=49827||49829<=t&&t<=49855||49857<=t&&t<=49883||49885<=t&&t<=49911||49913<=t&&t<=49939||49941<=t&&t<=49967||49969<=t&&t<=49995||49997<=t&&t<=50023||50025<=t&&t<=50051||50053<=t&&t<=50079||50081<=t&&t<=50107||50109<=t&&t<=50135||50137<=t&&t<=50163||50165<=t&&t<=50191||50193<=t&&t<=50219||50221<=t&&t<=50247||50249<=t&&t<=50275||50277<=t&&t<=50303||50305<=t&&t<=50331||50333<=t&&t<=50359||50361<=t&&t<=50387||50389<=t&&t<=50415||50417<=t&&t<=50443||50445<=t&&t<=50471||50473<=t&&t<=50499||50501<=t&&t<=50527||50529<=t&&t<=50555||50557<=t&&t<=50583||50585<=t&&t<=50611||50613<=t&&t<=50639||50641<=t&&t<=50667||50669<=t&&t<=50695||50697<=t&&t<=50723||50725<=t&&t<=50751||50753<=t&&t<=50779||50781<=t&&t<=50807||50809<=t&&t<=50835||50837<=t&&t<=50863||50865<=t&&t<=50891||50893<=t&&t<=50919||50921<=t&&t<=50947||50949<=t&&t<=50975||50977<=t&&t<=51003||51005<=t&&t<=51031||51033<=t&&t<=51059||51061<=t&&t<=51087||51089<=t&&t<=51115||51117<=t&&t<=51143||51145<=t&&t<=51171||51173<=t&&t<=51199||51201<=t&&t<=51227||51229<=t&&t<=51255||51257<=t&&t<=51283||51285<=t&&t<=51311||51313<=t&&t<=51339||51341<=t&&t<=51367||51369<=t&&t<=51395||51397<=t&&t<=51423||51425<=t&&t<=51451||51453<=t&&t<=51479||51481<=t&&t<=51507||51509<=t&&t<=51535||51537<=t&&t<=51563||51565<=t&&t<=51591||51593<=t&&t<=51619||51621<=t&&t<=51647||51649<=t&&t<=51675||51677<=t&&t<=51703||51705<=t&&t<=51731||51733<=t&&t<=51759||51761<=t&&t<=51787||51789<=t&&t<=51815||51817<=t&&t<=51843||51845<=t&&t<=51871||51873<=t&&t<=51899||51901<=t&&t<=51927||51929<=t&&t<=51955||51957<=t&&t<=51983||51985<=t&&t<=52011||52013<=t&&t<=52039||52041<=t&&t<=52067||52069<=t&&t<=52095||52097<=t&&t<=52123||52125<=t&&t<=52151||52153<=t&&t<=52179||52181<=t&&t<=52207||52209<=t&&t<=52235||52237<=t&&t<=52263||52265<=t&&t<=52291||52293<=t&&t<=52319||52321<=t&&t<=52347||52349<=t&&t<=52375||52377<=t&&t<=52403||52405<=t&&t<=52431||52433<=t&&t<=52459||52461<=t&&t<=52487||52489<=t&&t<=52515||52517<=t&&t<=52543||52545<=t&&t<=52571||52573<=t&&t<=52599||52601<=t&&t<=52627||52629<=t&&t<=52655||52657<=t&&t<=52683||52685<=t&&t<=52711||52713<=t&&t<=52739||52741<=t&&t<=52767||52769<=t&&t<=52795||52797<=t&&t<=52823||52825<=t&&t<=52851||52853<=t&&t<=52879||52881<=t&&t<=52907||52909<=t&&t<=52935||52937<=t&&t<=52963||52965<=t&&t<=52991||52993<=t&&t<=53019||53021<=t&&t<=53047||53049<=t&&t<=53075||53077<=t&&t<=53103||53105<=t&&t<=53131||53133<=t&&t<=53159||53161<=t&&t<=53187||53189<=t&&t<=53215||53217<=t&&t<=53243||53245<=t&&t<=53271||53273<=t&&t<=53299||53301<=t&&t<=53327||53329<=t&&t<=53355||53357<=t&&t<=53383||53385<=t&&t<=53411||53413<=t&&t<=53439||53441<=t&&t<=53467||53469<=t&&t<=53495||53497<=t&&t<=53523||53525<=t&&t<=53551||53553<=t&&t<=53579||53581<=t&&t<=53607||53609<=t&&t<=53635||53637<=t&&t<=53663||53665<=t&&t<=53691||53693<=t&&t<=53719||53721<=t&&t<=53747||53749<=t&&t<=53775||53777<=t&&t<=53803||53805<=t&&t<=53831||53833<=t&&t<=53859||53861<=t&&t<=53887||53889<=t&&t<=53915||53917<=t&&t<=53943||53945<=t&&t<=53971||53973<=t&&t<=53999||54001<=t&&t<=54027||54029<=t&&t<=54055||54057<=t&&t<=54083||54085<=t&&t<=54111||54113<=t&&t<=54139||54141<=t&&t<=54167||54169<=t&&t<=54195||54197<=t&&t<=54223||54225<=t&&t<=54251||54253<=t&&t<=54279||54281<=t&&t<=54307||54309<=t&&t<=54335||54337<=t&&t<=54363||54365<=t&&t<=54391||54393<=t&&t<=54419||54421<=t&&t<=54447||54449<=t&&t<=54475||54477<=t&&t<=54503||54505<=t&&t<=54531||54533<=t&&t<=54559||54561<=t&&t<=54587||54589<=t&&t<=54615||54617<=t&&t<=54643||54645<=t&&t<=54671||54673<=t&&t<=54699||54701<=t&&t<=54727||54729<=t&&t<=54755||54757<=t&&t<=54783||54785<=t&&t<=54811||54813<=t&&t<=54839||54841<=t&&t<=54867||54869<=t&&t<=54895||54897<=t&&t<=54923||54925<=t&&t<=54951||54953<=t&&t<=54979||54981<=t&&t<=55007||55009<=t&&t<=55035||55037<=t&&t<=55063||55065<=t&&t<=55091||55093<=t&&t<=55119||55121<=t&&t<=55147||55149<=t&&t<=55175||55177<=t&&t<=55203?h:t==9757||t==9977||9994<=t&&t<=9997||t==127877||127938<=t&&t<=127940||t==127943||127946<=t&&t<=127948||128066<=t&&t<=128067||128070<=t&&t<=128080||t==128110||128112<=t&&t<=128120||t==128124||128129<=t&&t<=128131||128133<=t&&t<=128135||t==128170||128372<=t&&t<=128373||t==128378||t==128400||128405<=t&&t<=128406||128581<=t&&t<=128583||128587<=t&&t<=128591||t==128675||128692<=t&&t<=128694||t==128704||t==128716||129304<=t&&t<=129308||129310<=t&&t<=129311||t==129318||129328<=t&&t<=129337||129341<=t&&t<=129342||129489<=t&&t<=129501?b:127995<=t&&t<=127999?A:t==8205?M:t==9792||t==9794||9877<=t&&t<=9878||t==9992||t==10084||t==127752||t==127806||t==127859||t==127891||t==127908||t==127912||t==127979||t==127981||t==128139||128187<=t&&t<=128188||t==128295||t==128300||t==128488||t==128640||t==128658?f:128102<=t&&t<=128105?G:D}return this}s.exports&&(s.exports=e)})(Ys);var ba=Ys.exports;const Fa=Mr(ba),Sa={class:"content"},ya={class:"header_titile"},ka={class:"footer_btn"},$a=O({__name:"Advise",emits:["ok"],setup(s,{emit:e}){const{t:n}=wt(),r=B(!0),a=B(!1);B(!1);const o=B(300),{isOnline:i}=wa(),l=B(""),u=B(),x=S(()=>l.value.trim().length===0),p=()=>{r.value=!1},c=()=>{a.value?(Z.modal.showToast({overlay:!0,duration:3e3,layout:"vertical",icon:"loading"}),setTimeout(()=>{Z.modal.showToast({msg:n("mobile.rate.submit_success"),icon:"success",layout:"vertical"}),p()},2e3)):(Z.modal.showToast({overlay:!0,duration:7e3,icon:"loading",layout:"vertical"}),setTimeout(()=>{Z.modal.showToast({msg:n("mobile.rate.submit_fail"),icon:"error"})},7e3))};let h;return Kt(()=>l.value,D=>{if(D){console.log("val:",D);var P=new Fa().countGraphemes(D);console.log("result------:",P,D.length)}},{immediate:!0}),Kt(()=>i.value,D=>{console.log("*****val:",D),h=setInterval(async()=>{var b;const P=await((b=window.MeApi.wifi)==null?void 0:b.isWifiOpen());console.log("------isWifiOpen:",P),a.value=P},1e3)},{immediate:!0}),mt(()=>{u.value.focus()}),Rt(()=>{clearInterval(h)}),(D,P)=>{const b=zr,A=rt,M=Jt;return C(),g(M,{show:r.value,"onUpdate:show":P[1]||(P[1]=f=>r.value=f),"close-on-click-overlay":!1,class:"pop_modal"},{default:_(()=>[v("div",null,[v("div",Sa,[v("div",ya,[v("span",null,E(D.$t("ipad.rate.help_to_improve_title")),1)]),w(b,{ref_key:"textareaRef",ref:u,modelValue:l.value,"onUpdate:modelValue":P[0]||(P[0]=f=>l.value=f),modelModifiers:{trim:!0},type:"textarea",class:"input_text",placeholder:D.$t("ipad.rate.improve_blank_tips"),maxlength:o.value,"show-word-limit":""},null,8,["modelValue","placeholder","maxlength"])]),v("div",ka,[w(A,{class:"ok_btn",disabled:x.value,onClick:c},{default:_(()=>[Dt(E(D.$t("ipad.rate.submit")),1)]),_:1},8,["disabled"]),w(A,{class:"no_btn",onClick:p},{default:_(()=>[Dt(E(D.$t("mobile.common.cancel")),1)]),_:1})])])]),_:1},8,["show"])}}}),Oa=H($a,[["__scopeId","data-v-74e47f5e"]]),Ia={class:"content"},Ra={class:"enjoy"},Ta={class:"footer_btn"},Ma=O({__name:"Index",setup(s){const e=B(!1),n=B(!1),r=B(!1),a=()=>{e.value=!1},o=()=>{const p=navigator.userAgent;r.value=!!p.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),console.log("isIOS.value:---",r.value)},i=()=>{a(),window.MeApi.openNative.showAppReviews()},l=()=>{console.log("-----isIOS.value:",r.value),r.value?n.value=!0:i(),a()};let u;const x=async()=>{const p=await window.MeApi.openNative.isAllowReviews();console.log("是否拉起评分-------:",p),p&&(u=setTimeout(()=>{e.value=!0},1e3))};return mt(()=>{o(),x()}),Rt(()=>{clearTimeout(u)}),(p,c)=>{const h=Jt;return C(),I(ht,null,[w(h,{show:e.value,"onUpdate:show":c[0]||(c[0]=D=>e.value=D),"close-on-click-overlay":!1,class:"pop_modal"},{default:_(()=>[v("div",null,[v("div",Ia,[v("div",null,[w(V(at),{class:"svg_score",name:"score"})]),v("div",Ra,E(p.$t("ipad.rate.rate_content")),1)]),v("div",Ta,[v("div",{class:"foot_ok",onClick:i},E(p.$t("ipad.rate.rate_it")),1),v("div",{class:"foot_not",onClick:l},E(p.$t("ipad.rate.help_improve")),1),v("div",{class:"foot_not",onClick:a},E(p.$t("mobile.common.cancel")),1)])])]),_:1},8,["show"]),n.value?(C(),g(Oa,{key:0})):Q("",!0)],64)}}}),Na=H(Ma,[["__scopeId","data-v-967a33df"]]),Se=s=>{const e=Math.floor(s),n=Math.floor(e/3600).toString().padStart(2,"0"),r=Math.floor(e%3600/60).toString().padStart(2,"0"),a=(e%60).toString().padStart(2,"0");return`${n}:${r}:${a}`},qs=s=>{const e=Math.floor(s/36e5),n=Math.ceil(s%36e5/6e4);return`${e>0?`${e}h`:""}${n}min`},ja=(s,e)=>{let n=s;return s/e<.01&&(n=e*.01),qs(n)},Ua={class:"card-container"},La={class:"card-left"},Va={class:"card-right"},Ha={class:"card-extra"},Ga=O({__name:"ProcessCard",props:{iconName:{},iconColor:{},iconAlign:{}},emits:["iconClick"],setup(s,{emit:e}){const n=e;return(r,a)=>{const o=at;return C(),I("div",Ua,[v("div",La,[d(r.$slots,"left",{},()=>[w(o,{name:r.iconName,class:ft(["card-icon",{"align-center":!r.iconAlign}]),color:r.iconColor,onClick:a[0]||(a[0]=i=>n("iconClick"))},null,8,["name","color","class"])],!0)]),v("div",Va,[d(r.$slots,"right",{},void 0,!0)]),v("div",Ha,[d(r.$slots,"extra",{},void 0,!0)])])}}}),Xt=H(Ga,[["__scopeId","data-v-6a0b092f"]]),za={class:"card-text-third",style:{color:"#1a1a1e",margin:"auto 0"}},Qa=O({__name:"FinishSuccessContent",setup(s){const e=j(J),n=R().currentInstanceId,r=S(()=>{var l;return(l=e.uiState.isShowCountTime)==null?void 0:l[n]}),a=S(()=>{var l;return((l=e.uiState.totalTimeState)==null?void 0:l[n])??0}),o=S(()=>{var l;return(((l=e.uiState.timeUseState)==null?void 0:l[n])??0)/1e3}),i=S(()=>Se(Math.abs(a.value-o.value||0)));return(l,u)=>(C(),g(k(Xt),{"icon-name":"process-status-finish"},{right:_(()=>[v("span",za,E(l.$t("device.process.time_used"))+" "+E(r.value?i.value:V(Se)(o.value)),1)]),_:1}))}}),Wa=H(Qa,[["__scopeId","data-v-119355e5"]]),Ka={key:0,class:"container"},Ja={class:"container-left"},Ya={class:"left-text"},qa={class:"container-right"},Za=O({__name:"FinishSuccessF1UltraBackup",setup(s){const e=Yt(),{t:n}=wt(),r=j(J),a=S(()=>{var h;let p=e.currentRoute.value.query.instanceId??R().currentInstanceId;return((h=R().getExt(p))==null?void 0:h.id)===nt.F1Ultra}),o=B(!1),i=()=>{Z.modal.showTipModal({title:n("ipad.dialog.tips"),content:n("ipad.process.back_up_file.modal_tip_content"),hasCancel:!1,hasClose:!1,confirmTxt:n("ipad.dialog.got_it"),onConfirm:()=>{}})},l=()=>{Z.modal.showRenameModal({name:n("device.gs002.unnamed"),title:n("ipad.process.back_up_file.file_name"),confirmTxt:n("ipad.dialog.confirm"),maxLength:20,onConfirm:u})},u=p=>{r.sendEvent(new Ws(p))};vt(()=>r.uiEffect.closeBackupProcessingFilePopup,()=>{});const x=()=>{var h;let p=e.currentRoute.value.query.instanceId??R().currentInstanceId;((h=R().getExt(p))==null?void 0:h.id)===nt.F1Ultra&&Z.modal.showToast({icon:"info",type:"html",msg:n("ipad.process.process_burned_tip_f1_ultra"),duration:0,closeable:!0,openCb:()=>{}})};return mt(()=>{x()}),(p,c)=>{const h=at,D=rt;return a.value?(C(),I("div",Ka,[v("div",Ja,[v("span",Ya,E(p.$t("ipad.process.back_up_file.back_up_file_to_device")),1),w(h,{name:"common-infomation",class:"left-icon",onClick:i})]),v("div",qa,[w(D,{type:"default",class:"common-primary-btn common-btn-medium bottom-btn",loading:o.value,onClick:l},{icon:_(()=>[w(h,{name:"process-backup-file",class:"common-btn-icon"})]),loading:_(()=>[w(h,{name:"mk-toast-loading",class:"common-btn-loading"})]),_:1},8,["loading"])])])):Q("",!0)}}}),Xa=H(Za,[["__scopeId","data-v-30748f85"]]),da={class:"common-btn-text"},ti={class:"common-btn-text"},ei=O({__name:"FinishSuccessFooter",setup(s){const e=j(J),n=R().currentInstanceId,r=S(()=>{var l;return(((l=e.uiState.timeUseState)==null?void 0:l[n])??0)/1e3}),a=()=>{Vt.back(),Es({result:"finish",timeUse:r.value,estimatedTime:0})},o=()=>{e.sendEvent(new Hs),e.sendEvent(new Ks(et.PREVIEW)),i()},i=()=>{var u;const l=Vt.currentRoute.value.query;((u=l==null?void 0:l.action)==null?void 0:u.toString())==="cancel"&&Vt.replace({query:{...l,action:void 0}})};return le(()=>(a(),!0)),(l,u)=>{const x=rt;return C(),I(ht,null,[w(x,{type:"primary",class:"common-default-btn bottom-btn",block:"",plain:"",onClick:o},{default:_(()=>[v("span",da,E(l.$t("device.modal.redo")),1)]),_:1}),w(x,{type:"default",class:"common-primary-btn bottom-btn",block:"",plain:"",onClick:a},{default:_(()=>[v("span",ti,E(l.$t("device.process.complete")),1)]),_:1})],64)}}}),si=H(ei,[["__scopeId","data-v-a2b22986"]]),ni={class:"process-bar-title"},ri={key:0,class:"common-btn-text"},ai=O({__name:"NavBar",props:{title:{},leftBtnIcon:{},leftBtnText:{},leftBtnLoading:{type:Boolean},leftBtnDisabled:{type:Boolean}},emits:["leftClick"],setup(s,{emit:e}){const n=e;return(r,a)=>{const o=at,i=rt,l=ks;return C(),g(l,{title:r.title,class:"process-bar",fixed:"",placeholder:""},{title:_(()=>[v("span",ni,E(r.title),1)]),left:_(()=>[r.leftBtnIcon||r.leftBtnText?(C(),g(i,{key:0,type:"default",loading:r.leftBtnLoading,class:ft(r.leftBtnIcon?"common-bar-icon-btn":"common-bar-text-btn common-btn-small ml-8"),onClick:a[0]||(a[0]=u=>n("leftClick"))},Nr({default:_(()=>[r.leftBtnText?(C(),I("span",ri,E(r.leftBtnText),1)):Q("",!0)]),_:2},[r.leftBtnIcon?{name:"icon",fn:_(()=>[w(o,{name:r.leftBtnIcon,class:"common-btn-icon"},null,8,["name"])]),key:"0"}:void 0]),1032,["loading","class"])):Q("",!0)]),right:_(()=>[d(r.$slots,"right",{},void 0,!0)]),_:3},8,["title"])}}}),ue=H(ai,[["__scopeId","data-v-e1963765"]]),ii=O({__name:"FinishSuccessHeader",setup(s){return(e,n)=>(C(),g(ue,{title:e.$t("device.process.processing")},null,8,["title"]))}}),oi=O({__name:"Finish",setup(s){const e=()=>qt;return(n,r)=>(C(),I(ht,null,[(C(),g(k(Zt),null,{header:_(()=>[(C(),g(k(ii)))]),"content-canvas":_(()=>[(C(),g(k(e())))]),"content-card":_(()=>[(C(),g(k(Wa)))]),"content-extra":_(()=>[(C(),g(k(Xa)))]),footer:_(()=>[(C(),g(k(si)))]),_:1})),(C(),g(k(Na)))],64))}}),li={class:"preview-progress-bg"},xi={key:0},ui={class:"card-text-third"},pi={class:"rate-value"},Ci=O({__name:"PreviewContent",setup(s){const{t:e}=wt(),n=j(Tt),r=j(J),a=R().currentInstanceId,o=L=>{n.sendEvent(new Te(L))},i=S(()=>n.uiState.totalProgress),l=S({get:()=>n.uiState.progress,set:L=>{o(L)}});let u=null;const x=B(!0),p=B(!1),c=()=>{l.value===i.value?(o(0),x.value=!1,u=setTimeout(()=>{n.sendEvent(new Gt),x.value=!0},200)):n.sendEvent(new Gt)},h=B(!1),D=B("");U(()=>n.uiState.isPlaying,L=>{h.value=L,D.value=L?"process-preview-pause":"process-preview-play"});const P=B(!1),b=L=>{P.value=n.uiState.isPlaying},A=L=>{o(L),P.value&&(n.sendEvent(new Gt),P.value=!1)},M=B(!0);U(()=>r.uiState.isShowEstimateTime,L=>{M.value=L[a]});const f=B();U(()=>r.uiState.totalTimeState,L=>{console.log("multiProcessViewModel.uiState.totalTimeState",r.uiState.totalTimeState),a in L&&(f.value=L[a])});const G=S(()=>F(f.value)||e("ipad.process.calculating_new")),F=L=>{if(L<0)return"";if(L<60)return"1min";const q=Math.floor(L/3600),t=Math.ceil(L%3600/60);return q>0?t?`${q}h ${t}min`:`${q}h`:`${t}min`};B(!0);const W=B(!1),Ct=B([1]),Mt=S(()=>[{label:"40x",value:40},{label:"20x",value:20},{label:"10x",value:10},{label:"5x",value:5},{label:"2x",value:2},{label:"1x",value:1},{label:"0.5x",value:.5},{label:"0.2x",value:.2},{label:"0.1x",value:.1}]),Ft=()=>{W.value=!0},Nt=L=>{Ct.value=L.selectedValues,W.value=!1,n.sendEvent(new Rs(L.selectedValues[0]))},St=()=>{W.value=!1};return Rt(()=>{clearTimeout(u)}),(L,q)=>{const t=Qr,y=at,T=Wr,$=Jt;return C(),I(ht,null,[v("div",{class:ft(["preview-progress",[p.value?"preview-process-active":""]])},[v("div",li,[w(t,{class:"preview-progress-slider hideen-progress-icon slider-left","active-color":"#28be44","inactive-color":"#28be44"}),w(t,{class:"preview-progress-slider hideen-progress-icon slider-rigth","inactive-color":"#f0f1f5"})]),x.value?(C(),g(t,{key:0,modelValue:l.value,"onUpdate:modelValue":[q[2]||(q[2]=m=>l.value=m),o],max:i.value,"active-color":"#28be44","inactive-color":"#f0f1f5",class:"preview-progress-slider preview-progress-main",onChange:A,onTouchstart:b},{button:_(()=>[w(y,{name:"process-preview-slider-block",class:"preview-process-slider-icon",onTouchstart:q[0]||(q[0]=m=>p.value=!0),onTouchend:q[1]||(q[1]=m=>p.value=!1)})]),_:1},8,["modelValue","max"])):Q("",!0)],2),(C(),g(k(Xt),{"icon-name":D.value,onIconClick:c},{right:_(()=>[M.value?(C(),I("div",xi,[v("span",{class:ft(["card-text-first",f.value>0?"preview-estimate-calculating-end":"preview-estimate-calculating"])},E(G.value),3),v("span",ui,E(V(e)("ipad.process.total_time_estimated")),1)])):Q("",!0)]),extra:_(()=>[v("div",{class:"play-rate",onClick:Ft},[v("span",pi,E(Ct.value[0])+"x",1),w(y,{name:"arrow_two",class:"f-s-22"})])]),_:1},40,["icon-name"])),w($,{show:W.value,"onUpdate:show":q[3]||(q[3]=m=>W.value=m),round:"",position:"bottom","close-on-click-overlay":!0},{default:_(()=>[w(T,{"model-value":Ct.value,title:V(e)("ipad.process.speed"),columns:Mt.value||[],"columns-field-names":{text:"label"},onConfirm:Nt,onCancel:St},{confirm:_(()=>[w(y,{name:"checkmark",class:"f-s-24"})]),cancel:_(()=>[w(y,{name:"close",class:"f-s-24"})]),_:1},8,["model-value","title","columns"])]),_:1},8,["show"])],64)}}}),ci=H(Ci,[["__scopeId","data-v-926d33ec"]]),vi={class:"canvas-path"},hi=O({__name:"PreviewExtra",setup(s){const e=j(Tt),n=B(!0),r=a=>{e.sendEvent(new Ts),n.value=a};return(a,o)=>{const i=Kr,l=Jr,u=Yr;return C(),I("div",vi,[w(u,{border:!1,inset:"",class:"canvas-cell-group"},{default:_(()=>[w(l,{class:"canvas-cell",center:"",title:a.$t("ipad.process.laser_trajectory")},{"right-icon":_(()=>[w(i,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=x=>n.value=x),"active-color":"#28BE44",size:"18px",onChange:r},null,8,["modelValue"])]),_:1},8,["title"])]),_:1})])}}}),fi=H(hi,[["__scopeId","data-v-c2604908"]]),mi={class:"baseboard-check"},_i={class:"top-wrapper"},gi={class:"title"},Bi={class:"check-steps"},Di={class:"step-one"},Pi={key:0},Ai={class:"step-two"},Ei={key:0,class:"step-two-error-info"},wi={class:"check-again-wrap"},bi=O({__name:"M1PreviewCheck",props:{check:{type:Boolean},processData:{},needCheckAgain:{type:Boolean}},emits:["close","checkAgain"],setup(s,{emit:e}){const n=s,r=e,a=S(()=>n.check),o=()=>{r("close",!1)},i=()=>{r("checkAgain")};return(l,u)=>{const x=at,p=ys,c=rt,h=Jt;return C(),I("div",mi,[w(h,{show:a.value,"onUpdate:show":u[0]||(u[0]=D=>a.value=D),position:"bottom",style:{minHeight:"330px",borderRadius:"8px"}},{default:_(()=>[v("section",_i,[ae(v("span",{onClick:o},E(l.$t("mobile.common.cancel")),513),[[ie,l.needCheckAgain]]),v("div",gi,E(l.$t("mobile.device.process_check")),1)]),v("section",Bi,[v("div",Di,[l.processData.baseboard.status==="fail"?(C(),g(x,{key:0,name:"process_check_fail",class:"f-s-16"})):l.processData.baseboard.status==="success"?(C(),g(x,{key:1,name:"process_check_success",class:"f-s-16"})):(C(),g(p,{key:2,class:"process-check-loading",color:"#fff"})),v("span",null,E(l.$t("mobile.device.process_board")),1)]),v("div",{class:ft(["transit-box",{"transit-success-line":l.processData.baseboard.status==="success"}])},[l.processData.baseboard.status==="fail"?(C(),I("span",Pi,E(l.processData.baseboard.info),1)):Q("",!0)],2),v("div",Ai,[l.processData.header.status==="unstart"?(C(),g(x,{key:0,name:"process_check_unstart",class:"f-s-16"})):l.processData.header.status==="fail"?(C(),g(x,{key:1,name:"process_check_fail",class:"f-s-16"})):l.processData.header.status==="success"?(C(),g(x,{key:2,name:"process_check_success",class:"f-s-16"})):(C(),g(p,{key:3,class:"process-check-loading",color:"#fff"})),v("span",null,E(l.$t("mobile.device.process_header")+l.processData.header.title),1)]),l.processData.header.status==="fail"?(C(),I("div",Ei,E(l.$t("mobile.device.process_header_checked_info")),1)):Q("",!0)]),ae(v("section",wi,[w(c,{type:"default",onClick:i},{default:_(()=>[Dt(E(l.$t("mobile.device.process_preview_check_again")),1)]),_:1})],512),[[ie,l.needCheckAgain]])]),_:1},8,["show"])])}}}),Fi=H(bi,[["__scopeId","data-v-b495f3d2"]]);var Zs={exports:{}},je=Object.defineProperty,Si=Object.getOwnPropertyDescriptor,yi=Object.getOwnPropertyNames,ki=Object.prototype.hasOwnProperty,$i=(s,e)=>{for(var n in e)je(s,n,{get:e[n],enumerable:!0})},Oi=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of yi(e))!ki.call(s,a)&&a!==n&&je(s,a,{get:()=>e[a],enumerable:!(r=Si(e,a))||r.enumerable});return s},Ii=s=>Oi(je({},"__esModule",{value:!0}),s),Xs={};$i(Xs,{extend:()=>Ti,flat:()=>Wi,get:()=>Hi,inBrowser:()=>ds,isDate:()=>ji,isDef:()=>Mi,isFunction:()=>ye,isIOS:()=>Vi,isMobile:()=>Ui,isNumeric:()=>Li,isObject:()=>Ue,isPromise:()=>Ni,isSameValue:()=>zi,noop:()=>Ri,pick:()=>Gi,toArray:()=>Qi});var bt=Ii(Xs);function Ri(){}const Ti=Object.assign,ds=typeof window<"u",Ue=s=>s!==null&&typeof s=="object",Mi=s=>s!=null,ye=s=>typeof s=="function",Ni=s=>Ue(s)&&ye(s.then)&&ye(s.catch),ji=s=>Object.prototype.toString.call(s)==="[object Date]"&&!Number.isNaN(s.getTime());function Ui(s){return s=s.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(s)||/^0[0-9-]{10,13}$/.test(s)}const Li=s=>typeof s=="number"||/^\d+(\.\d+)?$/.test(s),Vi=()=>ds?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Hi(s,e){const n=e.split(".");let r=s;return n.forEach(a=>{var o;r=Ue(r)&&(o=r[a])!=null?o:""}),r}function Gi(s,e,n){return e.reduce((r,a)=>((!n||s[a]!==void 0)&&(r[a]=s[a]),r),{})}const zi=(s,e)=>JSON.stringify(s)===JSON.stringify(e),Qi=s=>Array.isArray(s)?s:[s],Wi=s=>s.reduce((e,n)=>e.concat(n),[]);var Le=Object.defineProperty,Ki=Object.getOwnPropertyDescriptor,Ji=Object.getOwnPropertyNames,Yi=Object.prototype.hasOwnProperty,qi=(s,e)=>{for(var n in e)Le(s,n,{get:e[n],enumerable:!0})},Zi=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Ji(e))!Yi.call(s,a)&&a!==n&&Le(s,a,{get:()=>e[a],enumerable:!(r=Ki(e,a))||r.enumerable});return s},Xi=s=>Zi(Le({},"__esModule",{value:!0}),s),tn={};qi(tn,{makeArrayProp:()=>n0,makeNumberProp:()=>r0,makeNumericProp:()=>a0,makeRequiredProp:()=>s0,makeStringProp:()=>i0,numericProp:()=>en,truthProp:()=>e0,unknownProp:()=>t0});var di=Xi(tn);const t0=null,en=[Number,String],e0={type:Boolean,default:!0},s0=s=>({type:s,required:!0}),n0=()=>({type:Array,default:()=>[]}),r0=s=>({type:Number,default:s}),a0=s=>({type:en,default:s}),i0=s=>({type:String,default:s}),o0=Fs(qr),tt=Fs(jr);var Ve=Object.defineProperty,l0=Object.getOwnPropertyDescriptor,x0=Object.getOwnPropertyNames,u0=Object.prototype.hasOwnProperty,p0=(s,e)=>{for(var n in e)Ve(s,n,{get:e[n],enumerable:!0})},C0=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of x0(e))!u0.call(s,a)&&a!==n&&Ve(s,a,{get:()=>e[a],enumerable:!(r=l0(e,a))||r.enumerable});return s},c0=s=>C0(Ve({},"__esModule",{value:!0}),s),sn={};p0(sn,{getContainingBlock:()=>E0,getElementTop:()=>f0,getRootScrollTop:()=>He,getScrollTop:()=>an,isHidden:()=>B0,preventDefault:()=>g0,resetScroll:()=>_0,setRootScrollTop:()=>on,setScrollTop:()=>ke,stopPropagation:()=>ln,windowHeight:()=>P0,windowWidth:()=>D0});var nn=c0(sn),rn=o0,v0=tt,h0=bt;function an(s){const e="scrollTop"in s?s.scrollTop:s.pageYOffset;return Math.max(e,0)}function ke(s,e){"scrollTop"in s?s.scrollTop=e:s.scrollTo(s.scrollX,e)}function He(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function on(s){ke(window,s),ke(document.body,s)}function f0(s,e){if(s===window)return 0;const n=e?an(e):He();return(0,rn.useRect)(s).top+n}const m0=(0,h0.isIOS)();function _0(){m0&&on(He())}const ln=s=>s.stopPropagation();function g0(s,e){(typeof s.cancelable!="boolean"||s.cancelable)&&s.preventDefault(),e&&ln(s)}function B0(s){const e=(0,v0.unref)(s);if(!e)return!1;const n=window.getComputedStyle(e),r=n.display==="none",a=e.offsetParent===null&&n.position!=="fixed";return r||a}const{width:D0,height:P0}=(0,rn.useWindowSize)();function A0(s){const e=window.getComputedStyle(s);return e.transform!=="none"||e.perspective!=="none"||["transform","perspective","filter"].some(n=>(e.willChange||"").includes(n))}function E0(s){let e=s.parentElement;for(;e;){if(e&&e.tagName!=="HTML"&&e.tagName!=="BODY"&&A0(e))return e;e=e.parentElement}return null}var Ge=Object.defineProperty,w0=Object.getOwnPropertyDescriptor,b0=Object.getOwnPropertyNames,F0=Object.prototype.hasOwnProperty,S0=(s,e)=>{for(var n in e)Ge(s,n,{get:e[n],enumerable:!0})},y0=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of b0(e))!F0.call(s,a)&&a!==n&&Ge(s,a,{get:()=>e[a],enumerable:!(r=w0(e,a))||r.enumerable});return s},k0=s=>y0(Ge({},"__esModule",{value:!0}),s),xn={};S0(xn,{addNumber:()=>Q0,addUnit:()=>re,camelize:()=>L0,clamp:()=>G0,formatNumber:()=>z0,getSizeStyle:()=>O0,getZIndexStyle:()=>I0,kebabCase:()=>V0,padZero:()=>H0,unitToPx:()=>j0});var ze=k0(xn),$0=bt,un=nn,$e=bt;function re(s){if((0,$e.isDef)(s))return(0,$e.isNumeric)(s)?`${s}px`:String(s)}function O0(s){if((0,$e.isDef)(s)){if(Array.isArray(s))return{width:re(s[0]),height:re(s[1])};const e=re(s);return{width:e,height:e}}}function I0(s){const e={};return s!==void 0&&(e.zIndex=+s),e}let De;function R0(){if(!De){const s=document.documentElement,e=s.style.fontSize||window.getComputedStyle(s).fontSize;De=parseFloat(e)}return De}function T0(s){return s=s.replace(/rem/g,""),+s*R0()}function M0(s){return s=s.replace(/vw/g,""),+s*un.windowWidth.value/100}function N0(s){return s=s.replace(/vh/g,""),+s*un.windowHeight.value/100}function j0(s){if(typeof s=="number")return s;if($0.inBrowser){if(s.includes("rem"))return T0(s);if(s.includes("vw"))return M0(s);if(s.includes("vh"))return N0(s)}return parseFloat(s)}const U0=/-(\w)/g,L0=s=>s.replace(U0,(e,n)=>n.toUpperCase()),V0=s=>s.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function H0(s,e=2){let n=s+"";for(;n.length<e;)n="0"+n;return n}const G0=(s,e,n)=>Math.min(Math.max(s,e),n);function vs(s,e,n){const r=s.indexOf(e);return r===-1?s:e==="-"&&r!==0?s.slice(0,r):s.slice(0,r+1)+s.slice(r).replace(n,"")}function z0(s,e=!0,n=!0){e?s=vs(s,".",/\./g):s=s.split(".")[0],n?s=vs(s,"-",/-/g):s=s.replace(/-/,"");const r=e?/[^-0-9.]/g:/[^-0-9]/g;return s.replace(r,"")}function Q0(s,e){return Math.round((s+e)*1e10)/1e10}var Qe=Object.defineProperty,W0=Object.getOwnPropertyDescriptor,K0=Object.getOwnPropertyNames,J0=Object.prototype.hasOwnProperty,Y0=(s,e)=>{for(var n in e)Qe(s,n,{get:e[n],enumerable:!0})},q0=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of K0(e))!J0.call(s,a)&&a!==n&&Qe(s,a,{get:()=>e[a],enumerable:!(r=W0(e,a))||r.enumerable});return s},Z0=s=>q0(Qe({},"__esModule",{value:!0}),s),pn={};Y0(pn,{deepAssign:()=>Cn});var X0=Z0(pn),hs=bt;const{hasOwnProperty:d0}=Object.prototype;function to(s,e,n){const r=e[n];(0,hs.isDef)(r)&&(!d0.call(s,n)||!(0,hs.isObject)(r)?s[n]=r:s[n]=Cn(Object(s[n]),r))}function Cn(s,e){return Object.keys(e).forEach(n=>{to(s,e,n)}),s}var We=Object.defineProperty,eo=Object.getOwnPropertyDescriptor,so=Object.getOwnPropertyNames,no=Object.prototype.hasOwnProperty,ro=(s,e)=>{for(var n in e)We(s,n,{get:e[n],enumerable:!0})},ao=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of so(e))!no.call(s,a)&&a!==n&&We(s,a,{get:()=>e[a],enumerable:!(r=eo(e,a))||r.enumerable});return s},io=s=>ao(We({},"__esModule",{value:!0}),s),cn={};ro(cn,{default:()=>lo});var oo=io(cn),lo={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(s,e)=>`${s}年${e}月`,rangePrompt:s=>`最多选择 ${s} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:s=>`${s}折`,condition:s=>`满${s}元可用`},vanCouponCell:{title:"优惠券",count:s=>`${s}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}},xo=Object.create,pe=Object.defineProperty,uo=Object.getOwnPropertyDescriptor,po=Object.getOwnPropertyNames,Co=Object.getPrototypeOf,co=Object.prototype.hasOwnProperty,vo=(s,e)=>{for(var n in e)pe(s,n,{get:e[n],enumerable:!0})},vn=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of po(e))!co.call(s,a)&&a!==n&&pe(s,a,{get:()=>e[a],enumerable:!(r=uo(e,a))||r.enumerable});return s},ho=(s,e,n)=>(n=s!=null?xo(Co(s)):{},vn(e||!s||!s.__esModule?pe(n,"default",{value:s,enumerable:!0}):n,s)),fo=s=>vn(pe({},"__esModule",{value:!0}),s),hn={};vo(hn,{Locale:()=>mn,default:()=>Do,useCurrentLang:()=>Bo});var mo=fo(hn),fn=tt,_o=X0,go=ho(oo);const Oe=(0,fn.ref)("zh-CN"),fs=(0,fn.reactive)({"zh-CN":go.default}),mn={messages(){return fs[Oe.value]},use(s,e){Oe.value=s,this.add({[s]:e})},add(s={}){(0,_o.deepAssign)(fs,s)}},Bo=()=>Oe;var Do=mn,Po=Object.create,Ce=Object.defineProperty,Ao=Object.getOwnPropertyDescriptor,Eo=Object.getOwnPropertyNames,wo=Object.getPrototypeOf,bo=Object.prototype.hasOwnProperty,Fo=(s,e)=>{for(var n in e)Ce(s,n,{get:e[n],enumerable:!0})},_n=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Eo(e))!bo.call(s,a)&&a!==n&&Ce(s,a,{get:()=>e[a],enumerable:!(r=Ao(e,a))||r.enumerable});return s},So=(s,e,n)=>(n=s!=null?Po(wo(s)):{},_n(e||!s||!s.__esModule?Ce(n,"default",{value:s,enumerable:!0}):n,s)),yo=s=>_n(Ce({},"__esModule",{value:!0}),s),gn={};Fo(gn,{createBEM:()=>Dn,createNamespace:()=>Io,createTranslate:()=>Bn});var ko=yo(gn),Pe=bt,$o=ze,Oo=So(mo);function Bn(s){const e=(0,$o.camelize)(s)+".";return(n,...r)=>{const a=Oo.default.messages(),o=(0,Pe.get)(a,e+n)||(0,Pe.get)(a,n);return(0,Pe.isFunction)(o)?o(...r):o}}function Ie(s,e){return e?typeof e=="string"?` ${s}--${e}`:Array.isArray(e)?e.reduce((n,r)=>n+Ie(s,r),""):Object.keys(e).reduce((n,r)=>n+(e[r]?Ie(s,r):""),""):""}function Dn(s){return(e,n)=>(e&&typeof e!="string"&&(n=e,e=""),e=e?`${s}__${e}`:s,`${e}${Ie(e,n)}`)}function Io(s){const e=`van-${s}`;return[e,Dn(e),Bn(e)]}var Ke=Object.defineProperty,Ro=Object.getOwnPropertyDescriptor,To=Object.getOwnPropertyNames,Mo=Object.prototype.hasOwnProperty,No=(s,e)=>{for(var n in e)Ke(s,n,{get:e[n],enumerable:!0})},jo=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of To(e))!Mo.call(s,a)&&a!==n&&Ke(s,a,{get:()=>e[a],enumerable:!(r=Ro(e,a))||r.enumerable});return s},Uo=s=>jo(Ke({},"__esModule",{value:!0}),s),Pn={};No(Pn,{BORDER:()=>gt,BORDER_BOTTOM:()=>zo,BORDER_LEFT:()=>Ho,BORDER_RIGHT:()=>Go,BORDER_SURROUND:()=>Qo,BORDER_TOP:()=>Vo,BORDER_TOP_BOTTOM:()=>Wo,BORDER_UNSET_TOP_BOTTOM:()=>Ko,FORM_KEY:()=>Yo,HAPTICS_FEEDBACK:()=>Jo,LONG_PRESS_START_TIME:()=>qo,TAP_OFFSET:()=>Zo});var Lo=Uo(Pn);const gt="van-hairline",Vo=`${gt}--top`,Ho=`${gt}--left`,Go=`${gt}--right`,zo=`${gt}--bottom`,Qo=`${gt}--surround`,Wo=`${gt}--top-bottom`,Ko=`${gt}-unset--top-bottom`,Jo="van-haptics-feedback",Yo=Symbol("van-form"),qo=500,Zo=5;var Je=Object.defineProperty,Xo=Object.getOwnPropertyDescriptor,tl=Object.getOwnPropertyNames,el=Object.prototype.hasOwnProperty,sl=(s,e)=>{for(var n in e)Je(s,n,{get:e[n],enumerable:!0})},nl=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of tl(e))!el.call(s,a)&&a!==n&&Je(s,a,{get:()=>e[a],enumerable:!(r=Xo(e,a))||r.enumerable});return s},rl=s=>nl(Je({},"__esModule",{value:!0}),s),An={};sl(An,{callInterceptor:()=>il});var al=rl(An),ms=bt;function il(s,{args:e=[],done:n,canceled:r,error:a}){if(s){const o=s.apply(null,e);(0,ms.isPromise)(o)?o.then(i=>{i?n():r&&r()}).catch(a||ms.noop):o?n():r&&r()}else n()}var Ye=Object.defineProperty,ol=Object.getOwnPropertyDescriptor,ll=Object.getOwnPropertyNames,xl=Object.prototype.hasOwnProperty,ul=(s,e)=>{for(var n in e)Ye(s,n,{get:e[n],enumerable:!0})},pl=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of ll(e))!xl.call(s,a)&&a!==n&&Ye(s,a,{get:()=>e[a],enumerable:!(r=ol(e,a))||r.enumerable});return s},Cl=s=>pl(Ye({},"__esModule",{value:!0}),s),En={};ul(En,{withInstall:()=>hl});var cl=Cl(En),vl=ze;function hl(s){return s.install=e=>{const{name:n}=s;n&&(e.component(n,s),e.component((0,vl.camelize)(`-${n}`),s))},s}var qe=Object.defineProperty,fl=Object.getOwnPropertyDescriptor,ml=Object.getOwnPropertyNames,_l=Object.prototype.hasOwnProperty,gl=(s,e)=>{for(var n in e)qe(s,n,{get:e[n],enumerable:!0})},Bl=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of ml(e))!_l.call(s,a)&&a!==n&&qe(s,a,{get:()=>e[a],enumerable:!(r=fl(e,a))||r.enumerable});return s},Dl=s=>Bl(qe({},"__esModule",{value:!0}),s),wn={};gl(wn,{closest:()=>Al});var Pl=Dl(wn);function Al(s,e){return s.reduce((n,r)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}(function(s){var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o=(x,p,c,h)=>{if(p&&typeof p=="object"||typeof p=="function")for(let D of r(p))!a.call(x,D)&&D!==c&&e(x,D,{get:()=>p[D],enumerable:!(h=n(p,D))||h.enumerable});return x},i=(x,p,c)=>(o(x,p,"default"),c&&o(c,p,"default")),l=x=>o(e({},"__esModule",{value:!0}),x),u={};s.exports=l(u),i(u,bt,s.exports),i(u,di,s.exports),i(u,nn,s.exports),i(u,ko,s.exports),i(u,ze,s.exports),i(u,Lo,s.exports),i(u,al,s.exports),i(u,cl,s.exports),i(u,Pl,s.exports)})(Zs);var _t=Zs.exports,Ze=Object.defineProperty,El=Object.getOwnPropertyDescriptor,wl=Object.getOwnPropertyNames,bl=Object.prototype.hasOwnProperty,Fl=(s,e)=>{for(var n in e)Ze(s,n,{get:e[n],enumerable:!0})},Sl=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of wl(e))!bl.call(s,a)&&a!==n&&Ze(s,a,{get:()=>e[a],enumerable:!(r=El(e,a))||r.enumerable});return s},yl=s=>Sl(Ze({},"__esModule",{value:!0}),s),bn={};Fl(bn,{route:()=>Fn,routeProps:()=>Ol,useRoute:()=>Il});var kl=yl(bn),$l=tt;const Ol={to:[String,Object],url:String,replace:Boolean};function Fn({to:s,url:e,replace:n,$router:r}){s&&r?r[n?"replace":"push"](s):e&&(n?location.replace(e):location.href=e)}function Il(){const s=(0,$l.getCurrentInstance)().proxy;return()=>Fn(s)}var Xe=Object.defineProperty,Rl=Object.getOwnPropertyDescriptor,Tl=Object.getOwnPropertyNames,Ml=Object.prototype.hasOwnProperty,Nl=(s,e)=>{for(var n in e)Xe(s,n,{get:e[n],enumerable:!0})},jl=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Tl(e))!Ml.call(s,a)&&a!==n&&Xe(s,a,{get:()=>e[a],enumerable:!(r=Rl(e,a))||r.enumerable});return s},Ul=s=>jl(Xe({},"__esModule",{value:!0}),s),Sn={};Nl(Sn,{badgeProps:()=>kn,default:()=>Vl});var yn=Ul(Sn),_s=tt,gs=tt,X=_t;const[Ll,Bs]=(0,X.createNamespace)("badge"),kn={dot:Boolean,max:X.numericProp,tag:(0,X.makeStringProp)("div"),color:String,offset:Array,content:X.numericProp,showZero:X.truthProp,position:(0,X.makeStringProp)("top-right")};var Vl=(0,gs.defineComponent)({name:Ll,props:kn,setup(s,{slots:e}){const n=()=>{if(e.content)return!0;const{content:l,showZero:u}=s;return(0,X.isDef)(l)&&l!==""&&(u||l!==0&&l!=="0")},r=()=>{const{dot:l,max:u,content:x}=s;if(!l&&n())return e.content?e.content():(0,X.isDef)(u)&&(0,X.isNumeric)(x)&&+x>+u?`${u}+`:x},a=l=>l.startsWith("-")?l.replace("-",""):`-${l}`,o=(0,gs.computed)(()=>{const l={background:s.color};if(s.offset){const[u,x]=s.offset,{position:p}=s,[c,h]=p.split("-");e.default?(typeof x=="number"?l[c]=(0,X.addUnit)(c==="top"?x:-x):l[c]=c==="top"?(0,X.addUnit)(x):a(x),typeof u=="number"?l[h]=(0,X.addUnit)(h==="left"?u:-u):l[h]=h==="left"?(0,X.addUnit)(u):a(u)):(l.marginTop=(0,X.addUnit)(x),l.marginLeft=(0,X.addUnit)(u))}return l}),i=()=>{if(n()||s.dot)return(0,_s.createVNode)("div",{class:Bs([s.position,{dot:s.dot,fixed:!!e.default}]),style:o.value},[r()])};return()=>{if(e.default){const{tag:l}=s;return(0,_s.createVNode)(l,{class:Bs("wrapper")},{default:()=>[e.default(),i()]})}return i()}}}),Hl=Object.create,ce=Object.defineProperty,Gl=Object.getOwnPropertyDescriptor,zl=Object.getOwnPropertyNames,Ql=Object.getPrototypeOf,Wl=Object.prototype.hasOwnProperty,Kl=(s,e)=>{for(var n in e)ce(s,n,{get:e[n],enumerable:!0})},$n=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of zl(e))!Wl.call(s,a)&&a!==n&&ce(s,a,{get:()=>e[a],enumerable:!(r=Gl(e,a))||r.enumerable});return s},Jl=(s,e,n)=>(n=s!=null?Hl(Ql(s)):{},$n(e||!s||!s.__esModule?ce(n,"default",{value:s,enumerable:!0}):n,s)),Yl=s=>$n(ce({},"__esModule",{value:!0}),s),On={};Kl(On,{Badge:()=>In,badgeProps:()=>dl.badgeProps,default:()=>tx});var ql=Yl(On),Zl=_t,Xl=Jl(yn),dl=yn;const In=(0,Zl.withInstall)(Xl.default);var tx=In,de=Object.defineProperty,ex=Object.getOwnPropertyDescriptor,sx=Object.getOwnPropertyNames,nx=Object.prototype.hasOwnProperty,rx=(s,e)=>{for(var n in e)de(s,n,{get:e[n],enumerable:!0})},ax=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of sx(e))!nx.call(s,a)&&a!==n&&de(s,a,{get:()=>e[a],enumerable:!(r=ex(e,a))||r.enumerable});return s},ix=s=>ax(de({},"__esModule",{value:!0}),s),Rn={};rx(Rn,{setGlobalZIndex:()=>xx,useGlobalZIndex:()=>lx});var ox=ix(Rn);let Tn=2e3;const lx=()=>++Tn,xx=s=>{Tn=s};var ts=Object.defineProperty,ux=Object.getOwnPropertyDescriptor,px=Object.getOwnPropertyNames,Cx=Object.prototype.hasOwnProperty,cx=(s,e)=>{for(var n in e)ts(s,n,{get:e[n],enumerable:!0})},vx=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of px(e))!Cx.call(s,a)&&a!==n&&ts(s,a,{get:()=>e[a],enumerable:!(r=ux(e,a))||r.enumerable});return s},hx=s=>vx(ts({},"__esModule",{value:!0}),s),Mn={};cx(Mn,{CONFIG_PROVIDER_KEY:()=>jn,configProviderProps:()=>Un,default:()=>Px});var fx=hx(Mn),mx=tt,ot=tt,At=_t,_x=ox;const[Nn,gx]=(0,At.createNamespace)("config-provider"),jn=Symbol(Nn),Un={tag:(0,At.makeStringProp)("div"),theme:(0,At.makeStringProp)("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:(0,At.makeStringProp)("local"),iconPrefix:String};function Bx(s){return s.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function Dx(s){const e={};return Object.keys(s).forEach(n=>{const r=Bx((0,At.kebabCase)(n));e[`--van-${r}`]=s[n]}),e}function ee(s={},e={}){Object.keys(s).forEach(n=>{s[n]!==e[n]&&document.documentElement.style.setProperty(n,s[n])}),Object.keys(e).forEach(n=>{s[n]||document.documentElement.style.removeProperty(n)})}var Px=(0,ot.defineComponent)({name:Nn,props:Un,setup(s,{slots:e}){const n=(0,ot.computed)(()=>Dx((0,At.extend)({},s.themeVars,s.theme==="dark"?s.themeVarsDark:s.themeVarsLight)));if(At.inBrowser){const r=()=>{document.documentElement.classList.add(`van-theme-${s.theme}`)},a=(o=s.theme)=>{document.documentElement.classList.remove(`van-theme-${o}`)};(0,ot.watch)(()=>s.theme,(o,i)=>{i&&a(i),r()},{immediate:!0}),(0,ot.onActivated)(r),(0,ot.onDeactivated)(a),(0,ot.onBeforeUnmount)(a),(0,ot.watch)(n,(o,i)=>{s.themeVarsScope==="global"&&ee(o,i)}),(0,ot.watch)(()=>s.themeVarsScope,(o,i)=>{i==="global"&&ee({},n.value),o==="global"&&ee(n.value,{})}),s.themeVarsScope==="global"&&ee(n.value,{})}return(0,ot.provide)(jn,s),(0,ot.watchEffect)(()=>{s.zIndex!==void 0&&(0,_x.setGlobalZIndex)(s.zIndex)}),()=>(0,mx.createVNode)(s.tag,{class:gx(),style:s.themeVarsScope==="local"?n.value:void 0},{default:()=>{var r;return[(r=e.default)==null?void 0:r.call(e)]}})}}),es=Object.defineProperty,Ax=Object.getOwnPropertyDescriptor,Ex=Object.getOwnPropertyNames,wx=Object.prototype.hasOwnProperty,bx=(s,e)=>{for(var n in e)es(s,n,{get:e[n],enumerable:!0})},Fx=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Ex(e))!wx.call(s,a)&&a!==n&&es(s,a,{get:()=>e[a],enumerable:!(r=Ax(e,a))||r.enumerable});return s},Sx=s=>Fx(es({},"__esModule",{value:!0}),s),Ln={};bx(Ln,{default:()=>Ix,iconProps:()=>Hn});var Vn=Sx(Ln),Ae=tt,Ee=tt,Qt=_t,yx=ql,kx=fx;const[$x,Ds]=(0,Qt.createNamespace)("icon"),Ox=s=>s==null?void 0:s.includes("/"),Hn={dot:Boolean,tag:(0,Qt.makeStringProp)("i"),name:String,size:Qt.numericProp,badge:Qt.numericProp,color:String,badgeProps:Object,classPrefix:String};var Ix=(0,Ee.defineComponent)({name:$x,props:Hn,setup(s,{slots:e}){const n=(0,Ee.inject)(kx.CONFIG_PROVIDER_KEY,null),r=(0,Ee.computed)(()=>s.classPrefix||(n==null?void 0:n.iconPrefix)||Ds());return()=>{const{tag:a,dot:o,name:i,size:l,badge:u,color:x}=s,p=Ox(i);return(0,Ae.createVNode)(yx.Badge,(0,Ae.mergeProps)({dot:o,tag:a,class:[r.value,p?"":`${r.value}-${i}`],style:{color:x,fontSize:(0,Qt.addUnit)(l)},content:u},s.badgeProps),{default:()=>{var c;return[(c=e.default)==null?void 0:c.call(e),p&&(0,Ae.createVNode)("img",{class:Ds("image"),src:i},null)]}})}}}),Rx=Object.create,ve=Object.defineProperty,Tx=Object.getOwnPropertyDescriptor,Mx=Object.getOwnPropertyNames,Nx=Object.getPrototypeOf,jx=Object.prototype.hasOwnProperty,Ux=(s,e)=>{for(var n in e)ve(s,n,{get:e[n],enumerable:!0})},Gn=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Mx(e))!jx.call(s,a)&&a!==n&&ve(s,a,{get:()=>e[a],enumerable:!(r=Tx(e,a))||r.enumerable});return s},Lx=(s,e,n)=>(n=s!=null?Rx(Nx(s)):{},Gn(e||!s||!s.__esModule?ve(n,"default",{value:s,enumerable:!0}):n,s)),Vx=s=>Gn(ve({},"__esModule",{value:!0}),s),zn={};Ux(zn,{Icon:()=>Qn,default:()=>Wx,iconProps:()=>Qx.iconProps});var Hx=Vx(zn),Gx=_t,zx=Lx(Vn),Qx=Vn;const Qn=(0,Gx.withInstall)(zx.default);var Wx=Qn,ss=Object.defineProperty,Kx=Object.getOwnPropertyDescriptor,Jx=Object.getOwnPropertyNames,Yx=Object.prototype.hasOwnProperty,qx=(s,e)=>{for(var n in e)ss(s,n,{get:e[n],enumerable:!0})},Zx=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Jx(e))!Yx.call(s,a)&&a!==n&&ss(s,a,{get:()=>e[a],enumerable:!(r=Kx(e,a))||r.enumerable});return s},Xx=s=>Zx(ss({},"__esModule",{value:!0}),s),Wn={};qx(Wn,{default:()=>su,loadingProps:()=>Jn});var Kn=Xx(Wn),$t=tt,Ps=tt,Et=_t;const[dx,Wt]=(0,Et.createNamespace)("loading"),tu=Array(12).fill(null).map((s,e)=>(0,$t.createVNode)("i",{class:Wt("line",String(e+1))},null)),eu=(0,$t.createVNode)("svg",{class:Wt("circular"),viewBox:"25 25 50 50"},[(0,$t.createVNode)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Jn={size:Et.numericProp,type:(0,Et.makeStringProp)("circular"),color:String,vertical:Boolean,textSize:Et.numericProp,textColor:String};var su=(0,Ps.defineComponent)({name:dx,props:Jn,setup(s,{slots:e}){const n=(0,Ps.computed)(()=>(0,Et.extend)({color:s.color},(0,Et.getSizeStyle)(s.size))),r=()=>{const o=s.type==="spinner"?tu:eu;return(0,$t.createVNode)("span",{class:Wt("spinner",s.type),style:n.value},[e.icon?e.icon():o])},a=()=>{var o;if(e.default)return(0,$t.createVNode)("span",{class:Wt("text"),style:{fontSize:(0,Et.addUnit)(s.textSize),color:(o=s.textColor)!=null?o:s.color}},[e.default()])};return()=>{const{type:o,vertical:i}=s;return(0,$t.createVNode)("div",{class:Wt([o,{vertical:i}]),"aria-live":"polite","aria-busy":!0},[r(),a()])}}}),nu=Object.create,he=Object.defineProperty,ru=Object.getOwnPropertyDescriptor,au=Object.getOwnPropertyNames,iu=Object.getPrototypeOf,ou=Object.prototype.hasOwnProperty,lu=(s,e)=>{for(var n in e)he(s,n,{get:e[n],enumerable:!0})},Yn=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of au(e))!ou.call(s,a)&&a!==n&&he(s,a,{get:()=>e[a],enumerable:!(r=ru(e,a))||r.enumerable});return s},xu=(s,e,n)=>(n=s!=null?nu(iu(s)):{},Yn(e||!s||!s.__esModule?he(n,"default",{value:s,enumerable:!0}):n,s)),uu=s=>Yn(he({},"__esModule",{value:!0}),s),qn={};lu(qn,{Loading:()=>Zn,default:()=>hu,loadingProps:()=>vu.loadingProps});var pu=uu(qn),Cu=_t,cu=xu(Kn),vu=Kn;const Zn=(0,Cu.withInstall)(cu.default);var hu=Zn,ns=Object.defineProperty,fu=Object.getOwnPropertyDescriptor,mu=Object.getOwnPropertyNames,_u=Object.prototype.hasOwnProperty,gu=(s,e)=>{for(var n in e)ns(s,n,{get:e[n],enumerable:!0})},Bu=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of mu(e))!_u.call(s,a)&&a!==n&&ns(s,a,{get:()=>e[a],enumerable:!(r=fu(e,a))||r.enumerable});return s},Du=s=>Bu(ns({},"__esModule",{value:!0}),s),Xn={};gu(Xn,{buttonProps:()=>er,default:()=>bu});var dn=Du(Xn),yt=tt,Pu=tt,pt=_t,tr=kl,Au=Hx,Eu=pu;const[wu,kt]=(0,pt.createNamespace)("button"),er=(0,pt.extend)({},tr.routeProps,{tag:(0,pt.makeStringProp)("button"),text:String,icon:String,type:(0,pt.makeStringProp)("default"),size:(0,pt.makeStringProp)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,pt.makeStringProp)("button"),loadingSize:pt.numericProp,loadingText:String,loadingType:String,iconPosition:(0,pt.makeStringProp)("left")});var bu=(0,Pu.defineComponent)({name:wu,props:er,emits:["click"],setup(s,{emit:e,slots:n}){const r=(0,tr.useRoute)(),a=()=>n.loading?n.loading():(0,yt.createVNode)(Eu.Loading,{size:s.loadingSize,type:s.loadingType,class:kt("loading")},null),o=()=>{if(s.loading)return a();if(n.icon)return(0,yt.createVNode)("div",{class:kt("icon")},[n.icon()]);if(s.icon)return(0,yt.createVNode)(Au.Icon,{name:s.icon,class:kt("icon"),classPrefix:s.iconPrefix},null)},i=()=>{let x;if(s.loading?x=s.loadingText:x=n.default?n.default():s.text,x)return(0,yt.createVNode)("span",{class:kt("text")},[x])},l=()=>{const{color:x,plain:p}=s;if(x){const c={color:p?x:"white"};return p||(c.background=x),x.includes("gradient")?c.border=0:c.borderColor=x,c}},u=x=>{s.loading?(0,pt.preventDefault)(x):s.disabled||(e("click",x),r())};return()=>{const{tag:x,type:p,size:c,block:h,round:D,plain:P,square:b,loading:A,disabled:M,hairline:f,nativeType:G,iconPosition:F}=s,W=[kt([p,c,{plain:P,block:h,round:D,square:b,loading:A,disabled:M,hairline:f}]),{[pt.BORDER_SURROUND]:f}];return(0,yt.createVNode)(x,{type:G,class:W,style:l(),disabled:M,onClick:u},{default:()=>[(0,yt.createVNode)("div",{class:kt("content")},[F==="left"&&o(),i(),F==="right"&&o()])]})}}}),Fu=Object.create,fe=Object.defineProperty,Su=Object.getOwnPropertyDescriptor,yu=Object.getOwnPropertyNames,ku=Object.getPrototypeOf,$u=Object.prototype.hasOwnProperty,Ou=(s,e)=>{for(var n in e)fe(s,n,{get:e[n],enumerable:!0})},sr=(s,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of yu(e))!$u.call(s,a)&&a!==n&&fe(s,a,{get:()=>e[a],enumerable:!(r=Su(e,a))||r.enumerable});return s},Iu=(s,e,n)=>(n=s!=null?Fu(ku(s)):{},sr(e||!s||!s.__esModule?fe(n,"default",{value:s,enumerable:!0}):n,s)),Ru=s=>sr(fe({},"__esModule",{value:!0}),s),nr={};Ou(nr,{Button:()=>rr,buttonProps:()=>Nu.buttonProps,default:()=>ju});var we=Ru(nr),Tu=_t,Mu=Iu(dn),Nu=dn;const rr=(0,Tu.withInstall)(Mu.default);var ju=rr;const Uu=O({__name:"WalkBorderSettingPanel",props:{value:{type:Boolean},isMovingLaserHead:{type:Boolean}},emits:["update:value"],setup(s,{emit:e}){const n=s,r=e,a=R(),{deviceValues:o}=ws(),i=B(!1);ps(()=>{i.value=n.value}),ps(()=>{r("update:value",i.value)});const l=S(()=>{var h;return((h=a.ext.uiApp)==null?void 0:h.PreviewSettingPop)||""}),u=B(br.LASER_PLANE);Kt(()=>i.value,h=>{var D,P;h&&(u.value=(P=(D=a.dataSource)==null?void 0:D.currentDeviceData)==null?void 0:P.mode)});const x=S(()=>({ext:a.ext,info:a.info,disConnect:!a.connected,deviceMode:u.value,deviceValues:o,isRepeatProcess:c.value})),p=j(J),c=S(()=>p.uiState.isRepeatProcess[R().currentInstanceId]??!1);return(h,D)=>(C(),g(V(Fr),{show:i.value,"onUpdate:show":D[0]||(D[0]=P=>i.value=P),title:h.$t("device.process.setting"),"title-icon":"common-round-close",class:"walkboard-framing-panel"},{content:_(()=>[(C(),g(k(l.value),Ur({ref:"walkBorderSetting"},x.value),null,16))]),_:1},8,["show","title"]))}}),Lu={key:0},Vu={class:"walk-border-content"},Hu={class:"common-btn-text"},Gu=O({__name:"WalkBorder",props:{deviceErrorVisible:{type:Boolean}},setup(s){const e=j(J),n=j(Ir),r=j(bs),a=j(Sr),o=R().currentInstanceId,i=R(),{deviceValues:l}=ws(),u=$s(),x=s,p=B();(()=>{const{taskId:m}=u.query;p.value=m??""})();const h=S(()=>x.deviceErrorVisible),D=S(()=>i.newDeviceError),P=S(()=>{var m;return((m=i.ext.uiApp)==null?void 0:m.PreviewSettingPop)||""}),b=S(()=>{var m,N;return((N=(m=i.ext)==null?void 0:m.uiApp)==null?void 0:N.WalkBorderButton)||we.Button}),A=B(!1),M=B(0),f=()=>{M.value=Math.random(),A.value=!0},G=B();U(()=>e.uiState.isCalculateGCode,m=>{G.value=m});const F=S(()=>G.value),W=B(!1);U(()=>r.uiState.isFrameMode,m=>{W.value=m});const Ct=S(()=>r.uiState.walkBorderLoading||n.uiState.isWalkBoarderChecking);U(()=>r.uiState.walkBorderLoading,m=>{}),vt(()=>n.uiEffect.checkProcessSuccess,m=>{m.checkType===ls.WalkBoarder&&r.sendEvent(new xs(o,!0,p.value))}),r.sendEvent(new Rr(o));const Mt=S(()=>i.isInProcessing),Ft=B(!1);U(()=>r.uiState.walkBroderVisible,m=>{Ft.value=m});const Nt=()=>{var N,it;let m=(N=R().getExt(o))==null?void 0:N.id;return((it=Os.get(m))==null?void 0:it.walkBorderReadyImg)||null},St=()=>{r.sendEvent(new us(o))},L=()=>{try{i.ext.uploadWalkBorderGcode006()}catch(m){console.log(m)}},q=S(()=>{var it;const{type:m}=i.info;return((it=R().getExt(o))==null?void 0:it.id)===nt.D1Pro&&(l==null?void 0:l.processStartPoint)===yr.ABSOLUTE&&m===kr.WIFI&&!i.ext.use008Firmware}),t=B(!1);U(()=>i.ext,m=>{t.value=!!m});const y=B(!1);U(()=>a.uiState.isLoading,m=>{y.value=m});const T=B(!1),$=()=>{y.value||!t.value||(W.value?r.sendEvent(new us(o)):p.value?(r.sendEvent(new xs(o,!0,p.value)),console.log("handleWalkBorder-again",p.value)):(n.sendEvent(new Tr(ls.WalkBoarder)),console.log("handleWalkBorder-new",p.value)),q.value&&(T.value=!0,setTimeout(()=>{T.value=!1},3e3)))};return(m,N)=>{const it=at;return P.value?(C(),I("div",Lu,[v("div",Vu,[(C(),g(k(b.value),{class:ft([[b.value===V(we.Button)?"common-default-btn":"extension-btn"],"go-border-btn"]),disabled:F.value,loading:Ct.value,ext:V(i).ext,"is-walking":!W.value,"device-error-visible":h.value,"is-error-ignore":D.value,"is-in-processing":Mt.value,xcsapp:V(Z),onClick:$},{default:_(()=>[v("span",Hu,E(W.value?m.$t("device.process.stop_framing"):m.$t("device.process.framing")),1)]),_:1},8,["class","disabled","loading","ext","is-walking","device-error-visible","is-error-ignore","is-in-processing","xcsapp"])),w(V(we.Button),{class:"common-default-btn setting-btn",disabled:W.value,onClick:f},{icon:_(()=>[w(it,{name:"process-framing-setting",class:"common-btn-icon"})]),_:1},8,["disabled"])]),(C(),g(Uu,{key:M.value,value:A.value,"onUpdate:value":N[0]||(N[0]=dt=>A.value=dt)},null,8,["value"])),w(V(Re),{show:Ft.value,title:m.$t("device.process.framing"),"confirm-txt":m.$t("device.modal.end"),img:Nt(),content:q.value?m.$t("device.d1pro.walk_border_forward_back_origin"):m.$t("device.process.walk_border"),"confirm-disabled":T.value,onConfirm:St,onCancel:L},null,8,["show","title","confirm-txt","img","content","confirm-disabled"])])):Q("",!0)}}}),zu=H(Gu,[["__scopeId","data-v-1e8c6fb7"]]),Qu={class:"process-view-footer"},Wu={class:"common-btn-text"},Ku=O({__name:"PreviewFooter",setup(s){const e=j(Tt),n=j(bs),r=j(J),a=R(),o=S(()=>a.isShowDeviceErrorModal),i=S(()=>a.newDeviceError),l=S(()=>{var F,W;return((W=(F=a.ext)==null?void 0:F.uiApp)==null?void 0:W.StartButton)||rt}),u=S(()=>a.isInProcessing),x=B();U(()=>r.uiState.isCalculateGCode,F=>{x.value=F});const p=S(()=>r.uiState.calculateEstimatedTime),c=S(()=>a.ext.id===nt.F1||a.ext.id===nt.F1Ultra?!1:a.isFrameMode),h=S(()=>![nt.F1,nt.F1Ultra].includes(a.ext.id)&&n.uiState.walkBorderLoading),D=S(()=>c.value||x.value||p.value||h.value),P=S(()=>{var F;return((F=r.uiState.uploadChecking)==null?void 0:F[a.currentInstanceId])??!1}),b=$r(async()=>{await r.sendEvent(new zs)&&(r.sendEvent(new Us),e.sendEvent(new Me))},200),A=B(!1),M=B(!1),f=be({baseboard:{status:"loading",info:""},header:{status:"unstart",info:"",title:""}}),G=F=>{A.value=F};return U(()=>r.uiState.m1HasChecked,F=>{A.value=F}),U(()=>r.uiState.m1NeedCheckAgain,F=>{M.value=F}),U(()=>r.uiState.m1ProcessCheckBottomStatus,F=>{f.baseboard.status=F}),U(()=>r.uiState.m1ProcessCheckHeaderStatus,F=>{f.header.status=F}),vt(()=>r.uiEffect.checkProcessBottomInfo,F=>{f.baseboard.info=F.msg}),vt(()=>r.uiEffect.checkProcessHeadInfo,F=>{f.header.info=F.msg}),vt(()=>r.uiEffect.processModeInfo,F=>{f.header.title=F.headName}),(F,W)=>(C(),I("div",Qu,[w(zu,{ref:"previewSetting","calculate-gcodeing":x.value,"device-error-visible":o.value,class:"walk-border-row"},null,8,["calculate-gcodeing","device-error-visible"]),(C(),g(k(l.value),{type:"primary",class:ft(["start-row",[l.value===V(rt)?"common-primary-btn":"extension-btn"]]),block:"",ext:V(a).ext,disabled:D.value,loading:P.value,"device-error-visible":o.value,"is-error-ignore":i.value,xcsapp:V(Z),"is-in-processing":u.value,onClick:V(b)},{default:_(()=>[v("span",Wu,E(F.$t("device.process.send_gcode")),1)]),_:1},8,["class","ext","disabled","loading","device-error-visible","is-error-ignore","xcsapp","is-in-processing","onClick"])),w(Fi,{check:A.value,"process-data":f,"need-check-again":M.value,onClose:G,onCheckAgain:V(b)},null,8,["check","process-data","need-check-again","onCheckAgain"])]))}}),Ju=H(Ku,[["__scopeId","data-v-e9cc03a9"]]),Yu=s=>(Lr("data-v-5cb3501c"),s=s(),Vr(),s),qu={class:"notice-box"},Zu={key:0,class:"notice-extra"},Xu=Yu(()=>v("span",null," ",-1)),du={class:"notice-text-content"},tp=O({__name:"NoticeEllipsis",props:{content:{}},setup(s){const e=B(!0),n=()=>{e.value=!e.value},r=B(),a=B(!1),o=x=>x*Math.min(document.documentElement.clientWidth/375,2),i=()=>{var p;let x=(p=r.value)==null?void 0:p.scrollHeight;a.value=x>o(44)},l=new MutationObserver(()=>{i()}),u=()=>{l.observe(r.value,{attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0})};return mt(()=>{Ss(()=>{i(),u()})}),Rt(()=>{l.disconnect()}),(x,p)=>{const c=at;return C(),I("div",qu,[w(c,{name:"file_upload_cancle",class:"notice-left-tip-icon"}),v("div",{ref_key:"refText",ref:r,class:ft(["notice-text-container","notice-text-ellipsis",e.value?"notice-text-unfold":"notice-text-collapse",,])},[v("div",{class:ft(["notice-text-box",!e.value&&x.$slots.extra?"notice-text-has-extra":""])},[!e.value&&x.$slots.extra?(C(),I("div",Zu,[Xu,d(x.$slots,"extra",{},void 0,!0)])):Q("",!0),v("div",du,[d(x.$slots,"content",{expanded:e.value},()=>[v("span",null,E(x.content),1)],!0)]),ae(v("div",{class:"notice-text-unfold-icon",onClick:Cs(n,["stop"])},[w(c,{name:"arrow-open",class:"f-s-16 notice-unfold-arrow-icon"})],512),[[ie,e.value&&a.value]])],2)],2),ae(v("div",{class:"notice-right-collapse-icon",onClick:Cs(n,["stop"])},[w(c,{name:"arrow-close",class:"f-s-16"})],512),[[ie,!e.value&&a.value]])])}}}),oe=H(tp,[["__scopeId","data-v-5cb3501c"]]),ep=O({__name:"PreviewHeader",setup(s){const e=j(J),n=B();U(()=>e.uiState.dAirAssistTipShow,a=>{n.value=a});const r=()=>{Vt.back()};return le(()=>(r(),!0)),(a,o)=>(C(),I("div",null,[w(ue,{title:a.$t("device.process.process_preview"),"left-btn-icon":"common-arrow-left",onLeftClick:r},null,8,["title"]),n.value?(C(),g(oe,{key:0,content:a.$t("device.process.air_assist_set_tip_for_40w")},null,8,["content"])):Q("",!0)]))}}),sp=O({__name:"Preview",setup(s){const e=()=>qt;return(()=>{localStorage.getItem("process-preview-first-tip")||Z.modal.showPreviewPathDialog()})(),(r,a)=>(C(),g(k(Zt),null,{header:_(()=>[(C(),g(k(ep)))]),"content-canvas":_(()=>[(C(),g(k(e()),{operate:!0}))]),"content-card":_(()=>[(C(),g(k(ci)))]),"content-extra":_(()=>[(C(),g(k(fi)))]),footer:_(()=>[(C(),g(k(Ju)))]),_:1}))}}),np=""+new URL("../assets/heating-JvqplW-x.png",import.meta.url).href,rp=["src"],ap={class:"card-text-first"},ip={class:"card-text-third"},op=O({__name:"HeatStartedContent",setup(s){const e=B(1e4);return(n,r)=>{const a=Zr;return C(),g(k(Xt),{"icon-name":"process-status-heat-started"},{left:_(()=>[v("img",{src:V(np),class:"heat-img"},null,8,rp)]),right:_(()=>[v("span",ap,E(n.$t("device.process.ir_heating")),1),w(a,{time:e.value,format:"ss",class:"card-text-third"},{default:_(o=>[v("span",null,E(n.$t("device.common.countdown")+o.seconds+"s"),1)]),_:1},8,["time"]),v("span",ip,E(n.$t("device.process.process_after_heat")),1)]),_:1})}}}),lp=H(op,[["__scopeId","data-v-34798b80"]]),xp={class:"pop-container"},up={class:"pop-header"},pp={class:"pop-main"},Cp={class:"pop-footer"},cp={class:"common-btn-text"},vp={class:"common-btn-text"},hp={class:"common-btn-text"},fp=O({__name:"RemoteViewingPop",props:{toShow:{type:Boolean},show:{type:Boolean},img:{},title:{},content:{},cancelTxt:{},confirmTxt:{},closeTxt:{}},emits:["update:show","close","confirm","cancel"],setup(s,{emit:e}){const n=s,r=e,a=S({get:()=>n.show,set:u=>r("update:show",u)}),o=()=>{r("cancel")},i=()=>{r("confirm")},l=()=>{n.toShow&&(a.value=!0)};return mt(()=>{l()}),(u,x)=>{const p=ks,c=Xr,h=rt,D=Jt;return C(),g(D,{show:a.value,"onUpdate:show":x[1]||(x[1]=P=>a.value=P),"close-on-click-overlay":!1,class:"common-fill-modal","overlay-class":"common-popup-filter-overlay"},{default:_(()=>[v("div",xp,[v("div",up,[w(p,{fixed:"","left-arrow":"",placeholder:"",title:"Remote viewing",class:"preview-bar",onClickLeft:x[0]||(x[0]=P=>a.value=!1)})]),v("div",pp,[w(c,{fit:"contain",src:u.img,class:"pop-img"},null,8,["src"])]),v("div",Cp,[d(u.$slots,"footer",{},()=>[u.confirmTxt?(C(),g(h,{key:0,type:"primary",class:"common-primary-btn bottom-btn",block:"",onClick:i},{default:_(()=>[v("span",cp,E(u.confirmTxt),1)]),_:1})):Q("",!0),u.cancelTxt?(C(),g(h,{key:1,type:"default",class:"common-default-btn bottom-btn",block:"",onClick:o},{default:_(()=>[v("span",vp,E(u.cancelTxt),1)]),_:1})):Q("",!0),u.closeTxt?(C(),g(h,{key:2,type:"default",class:"common-default-btn bottom-btn",block:""},{default:_(()=>[v("span",hp,E(u.closeTxt),1)]),_:1})):Q("",!0)],!0)])])]),_:3},8,["show"])}}}),mp=H(fp,[["__scopeId","data-v-bf02f01c"]]),ar=O({__name:"ProcessingHeader",setup(s){Yt(),R();const e=R().currentInstanceId,n=j(J),{t:r}=wt(),a=S(()=>{var b;return(((b=n.uiState.timeUseState)==null?void 0:b[e])??0)/1e3}),o=B(!1);U(()=>n.uiState.cancelProcessingLoadingState,b=>{e in b&&(o.value=b[e])});const i=()=>{Z.modal.showTipModal({title:r("ipad.dialog.tips"),content:r("device.process.confirm_cancel_task"),hasClose:!1,confirmTxt:r("device.common.ok"),cancelTxt:r("device.common.cancel"),onConfirm:()=>{l()}})},l=async()=>{let b=0;try{b=a.value,await n.sendEvent(new xe)}catch(A){console.log(A)}finally{Es({result:"cancel",timeUse:b,estimatedTime:0})}};le(()=>(i(),!0));const u=S(()=>!1),x=B(!1),p=()=>{c.value=!0},c=B(!1),h=j(J),D=()=>{h.sendEvent(new Qs),c.value=!1},P=B("");return(b,A)=>{const M=at,f=rt;return C(),I(ht,null,[v("div",null,[w(ue,{title:b.$t("device.process.processing"),"left-btn-text":b.$t("device.common.cancel"),"left-btn-loading":o.value,onLeftClick:i},{right:_(()=>[u.value?(C(),g(f,{key:0,type:"default",class:"common-blank-btn common-btn-small bottom-btn",loading:x.value,onClick:p},{icon:_(()=>[w(M,{name:"process-photograph",class:"common-btn-icon"})]),_:1},8,["loading"])):Q("",!0)]),_:1},8,["title","left-btn-text","left-btn-loading"])]),w(mp,{show:c.value,"onUpdate:show":A[0]||(A[0]=G=>c.value=G),"confirm-txt":b.$t("ipad.process.camera.save"),img:P.value,onConfirm:D},null,8,["show","confirm-txt","img"])],64)}}}),_p=O({__name:"HeatStarted",setup(s){const e=()=>qt;return(n,r)=>(C(),g(k(Zt),null,{header:_(()=>[(C(),g(k(ar))),w(oe,{content:n.$t("device.process.heating_save_tip")},null,8,["content"])]),"content-canvas":_(()=>[(C(),g(k(e())))]),"content-card":_(()=>[(C(),g(k(lp)))]),_:1}))}}),gp={class:"content-red"},Bp={class:"content"},Dp=O({__name:"PressButtonRemind",setup(s){const e=Yt();R();const n=R().currentInstanceId,r=j(J),a=B(""),o=B(!1);U(()=>r.uiState.showReadyPopState,x=>{n in x&&(o.value=x[n]||!1)});const i=()=>{r.sendEvent(new Gs(!1))};(()=>{var p;let x=e.currentRoute.value.query.instanceId??R().currentInstanceId;a.value=(p=R().getExt(x))==null?void 0:p.id})();const u=()=>{var x;return((x=Os.get(a.value))==null?void 0:x.processReadyImg)||null};return(x,p)=>(C(),g(V(Re),{show:o.value,img:u(),title:x.$t("ipad.process.ready"),"confirm-txt":x.$t("device.common.ok"),onConfirm:i},{content:_(()=>[v("div",gp,E(x.$t("device.process.fire_warning_tips")),1),v("div",Bp,E(a.value===V(nt).F1Ultra?x.$t("ipad.process.process_ready_tip1_f1_ultra"):x.$t("device.process.file_done_and_start")),1)]),_:1},8,["show","img","title","confirm-txt"]))}}),Pp=H(Dp,[["__scopeId","data-v-e79dddc1"]]),Ap={key:0,style:{margin:"auto 0"}},Ep={class:"card-text-third",style:{color:"#1a1a1e"}},wp={key:1,class:"new-model"},bp={class:"card-text-first"},Fp={class:"card-text-third"},Sp=O({__name:"ProcessingContent",setup(s){R();const e=R().currentInstanceId,n=j(J),r=S(()=>{var x;return(x=n.uiState.isProcessingPausedState)==null?void 0:x[e]});S(()=>{var x;return(x=n.uiState.isDeviceInProcessingState)==null?void 0:x[e]});const a=B("processing");U(()=>r.value,x=>{x?a.value="process-status-pause":a.value="process-status-processing"});const o=S(()=>{var x;return(x=n.uiState.isShowCountTime)==null?void 0:x[e]}),i=S(()=>{var x;return((x=n.uiState.totalTimeState)==null?void 0:x[e])??0}),l=S(()=>{var x;return(((x=n.uiState.timeUseState)==null?void 0:x[e])??0)/1e3}),u=S(()=>l.value);return(x,p)=>(C(),g(k(Xt),{"icon-name":a.value},{right:_(()=>[o.value?(C(),I("div",wp,[v("span",bp,E(x.$t("device.process.left_process_time"))+" "+E(i.value>0?`<${V(ja)(u.value*1e3,i.value*1e3)}`:x.$t("device.process.calculating")),1),v("span",Fp,E(x.$t("device.process.estimated_time"))+" "+E(i.value>0?V(qs)(i.value*1e3):x.$t("device.process.calculating")),1)])):(C(),I("div",Ap,[v("span",Ep,E(x.$t("device.process.time_used"))+" "+E(V(Se)(l.value)),1)]))]),_:1},8,["icon-name"]))}}),yp=H(Sp,[["__scopeId","data-v-c7287692"]]),kp=""+new URL("../assets/err-tips-vi1pazTs.png",import.meta.url).href,$p={class:"common-btn-text"},Op={class:"common-btn-text"},Ip={class:"common-btn-text"},Rp=["src"],Tp={class:"error-info"},Mp=O({__name:"ProcessingFooter",setup(s){const e=Yt(),n=R(),r=R().currentInstanceId,a=j(J);B("");const{t:o}=wt();mt(()=>{});const i=S(()=>[Ht.DRAIN].includes(n.info.currentStatus)),l=S(()=>{const f=n.ext.uiApp.CheckButton;return f||rt}),u=()=>{e.back()},x=async()=>{try{await a.sendEvent(new Ls)}catch(f){console.log(f)}},p=async()=>{await a.sendEvent(new Vs)},c=B(!1);U(()=>a.uiState.pauseProcessingLoadingState,f=>{r in f&&(c.value=f[r])});const h=S(()=>{var f;return(f=a.uiState.isProcessingPausedState)==null?void 0:f[r]}),D=S(()=>{var f;return(f=a.uiState.isDeviceInProcessingState)==null?void 0:f[r]}),P=be({isSuccess:!1,value:"",title:"",type:"baseBoard"}),b=be({isSuccess:!1,value:"",title:o("mobile.device.laser_head_exception"),type:"header"}),A=B(!1),M=()=>{A.value=!1,Ss(()=>{if(P.type==="baseBoard"&&!b.isSuccess){const{value:f,title:G,type:F}=b;P.value=f,P.title=G,P.type=F,console.log("errInfo=>",P),A.value=!0}})};return vt(()=>a.uiEffect.checkProcessBottomInfo,f=>{f.isSuccess||(P.value=f.toast,P.isSuccess=f.isSuccess,P.title=o(f.title),P.type=f.type,A.value=!0)}),vt(()=>a.uiEffect.checkProcessHeadInfo,f=>{b.isSuccess=f.isSuccess,b.value=f.toast,console.log("savedError=>",b)}),(f,G)=>{const F=dr;return C(),I("div",null,[!i.value&&D.value?(C(),I(ht,{key:0},[h.value?(C(),g(k(l.value),{key:0,ext:V(n).ext,block:"",class:"common-default-btn bottom-btn",loading:c.value,onClick:p},{default:_(()=>[v("span",$p,E(f.$t("device.process.continue")),1)]),_:1},8,["ext","loading"])):(C(),g(V(rt),{key:1,type:"default",plain:"",block:"",class:"common-default-btn bottom-btn",loading:c.value,onClick:x},{default:_(()=>[v("span",Op,E(f.$t("device.process.pause")),1)]),_:1},8,["loading"]))],64)):Q("",!0),D.value?(C(),g(V(rt),{key:1,block:"",type:"primary",class:"common-primary-btn bottom-btn",onClick:u},{default:_(()=>[v("span",Ip,E(f.$t("device.process.minimize")),1)]),_:1})):Q("",!0),w(F,{show:A.value,"onUpdate:show":G[0]||(G[0]=W=>A.value=W),"class-name":"exception-wrapper",theme:"round-button","confirm-button-color":"#00AD21",title:P.title,"confirm-button-text":f.$t("common.dialog.ok"),onConfirm:M},{default:_(()=>[v("img",{src:V(kp),alt:"",width:"263"},null,8,Rp),v("div",Tp,E(P.value),1)]),_:1},8,["show","title","confirm-button-text"])])}}}),Np=H(Mp,[["__scopeId","data-v-a4fd4c18"]]),jp={key:0,style:{color:"#0074fd"}},Up={key:0,style:{color:"#0074fd"}},Lp={key:0,class:"tempter"},Vp=O({__name:"ProcessingTopNotice",setup(s){const e=R(),n=R().currentInstanceId,r=j(J),a=B(!1);U(()=>r.uiState.isFinishLeanFourDevice,u=>{n in u&&(console.log("mblock==>","isFinishLeanFourDevice change",!u[n]),a.value=!u[n])});const o=()=>{a.value&&window.MeApi.openNative.openWebInApp(Or().client.getUrl("profile/training"))},i=S(()=>{const{info:u}=e;return u.power===2&&u.tempter?u.tempter:null}),l=()=>{var c,h,D;const u=st.getExt(),x=(c=u==null?void 0:u.deviceInfo)==null?void 0:c.power,p=(D=(h=u==null?void 0:u.config)==null?void 0:h.process)==null?void 0:D.showOverTemperature;return p&&p[x]!==void 0?p[x]:!1};return(u,x)=>{const p=at,c=Hr("Br");return C(),I(ht,null,[w(oe,{onClick:o},{content:_(h=>[a.value?(C(),I(ht,{key:0},[v("span",null,E(u.$t("ipad.process.process_safe_top_tip1")),1),h.expanded?(C(),I("span",jp,[Dt(E(u.$t("ipad.process.process_safe_top_tip2"))+" ",1),w(p,{name:"process-arrow-right-up",class:"f-s-16",style:{"vertical-align":"middle"}})])):Q("",!0),w(c)],64)):Q("",!0),v("span",null,[Dt(E(u.$t("ipad.process.process_top_tip"))+" ",1),w(c),Dt(" "+E(u.$t("ipad.process.process_ready_tip2")),1)])]),extra:_(()=>[a.value?(C(),I("span",Up,[Dt(E(u.$t("ipad.process.process_safe_top_tip2"))+" ",1),w(p,{name:"process-arrow-right-up",class:"f-s-16",style:{"vertical-align":"middle"}})])):Q("",!0)]),_:1}),i.value?(C(),I("div",Lp,E(u.$t("device.s1.laser_tempter",{tempter:i.value})),1)):Q("",!0),l()?(C(),g(oe,{key:1,content:u.$t("device.process.over_temperature_tip"),class:"process-temp-tip"},null,8,["content"])):Q("",!0)],64)}}}),Hp=H(Vp,[["__scopeId","data-v-d46b2da9"]]),Gp={class:"tips-wrap"},zp={key:0},Qp={class:"p2-drain"},Wp={style:{color:"#747a7a"}},Kp=O({__name:"Processing",setup(s){const e=R(),n=R().currentInstanceId,r=j(J),a=()=>qt,o=B(!1);U(()=>r.uiState.pressHeatingVisibleState,l=>{o.value=l[n]});const i=S(()=>[Ht.DRAIN].includes(e.info.currentStatus));return(l,u)=>(C(),I("div",null,[o.value?(C(),g(k(_p),{key:0})):(C(),g(k(Zt),{key:1},{header:_(()=>[(C(),g(k(ar))),(C(),g(k(Hp)))]),"content-canvas":_(()=>[(C(),g(k(a())))]),"content-card":_(()=>[(C(),g(k(yp)))]),"content-extra":_(()=>[v("div",Gp,[i.value?(C(),I("div",zp,[v("p",Qp,E(l.$t("device.p2.drain")),1),v("p",Wp,E(l.$t("device.p2.drain_info")),1)])):Q("",!0)])]),footer:_(()=>[(C(),g(k(Np)))]),_:1})),(C(),g(k(Pp)))]))}}),Jp=H(Kp,[["__scopeId","data-v-9aaf0cec"]]),Yp={style:{margin:"auto 0"}},qp={class:"card-text-first"},Zp={class:"process-value"},Xp=O({__name:"UploadContent",setup(s){const e=R(),n=j(J),r=B();return U(()=>n.uiState.uploadPercentage,a=>{console.log("uploadPercentage",a),r.value=a}),Kt(()=>e.isShowDeviceErrorModal,a=>{a&&n.sendEvent(new Ne)}),mt(async()=>{}),Rt(()=>{}),(a,o)=>{const i=ta;return C(),g(k(Xt),{"icon-name":"process-status-sending"},{right:_(()=>[v("div",Yp,[v("span",qp,E(a.$t("ipad.process.sending_the_file")),1),v("div",Zp,[w(i,{percentage:r.value,"show-pivot":!1,"track-color":"#F0F1F5",color:"#28BE44"},null,8,["percentage"])])])]),_:1})}}}),dp=H(Xp,[["__scopeId","data-v-943faf44"]]),t1=O({__name:"UploadHeader",setup(s){const{t:e}=wt(),n=j(J),r=R().currentInstanceId,a=B(!1);U(()=>n.uiState.showReadyPopState,u=>{r in u&&(a.value=u[r]||!1)});const o=()=>{Z.modal.showTipModal({title:e("ipad.dialog.tips"),content:e("device.process.confirm_cancel_task"),hasClose:!1,confirmTxt:e("device.common.ok"),cancelTxt:e("device.common.cancel"),onConfirm:()=>{n.sendEvent(new xe)}})},i=async()=>{Z.modal.showToast({icon:"error",msg:"device.process.gcode_upload_fail",uniqueId:"gcode_upload_fail",needOverride:!0}),await n.sendEvent(new Ne)},l=()=>{a.value?o():i()};return le(()=>(l(),!0)),mt(()=>{}),Rt(()=>{}),(u,x)=>(C(),g(ue,{title:u.$t("device.process.processing"),"left-btn-text":u.$t("device.common.cancel"),onLeftClick:l},null,8,["title","left-btn-text"]))}}),e1=O({__name:"Upload",setup(s){const e=()=>qt;return(n,r)=>(C(),g(k(Zt),null,{header:_(()=>[(C(),g(k(t1)))]),"content-canvas":_(()=>[(C(),g(k(e())))]),"content-card":_(()=>[(C(),g(k(dp)))]),_:1}))}}),s1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANMAAACMCAYAAADm35z7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA1RSURBVHgB7Z17UhTJFsaP4Cg+QlHDR/iI2xghyF/iCi6zgpm7AnEFeFcwuILrrEBYwR1XcLkrUP8C0dDGV4hPNHzw1DlfT+VEUWRVZXVnVXdXfr+IthpsmqI6vzonvzyZKUIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCus0eIV1laWlpQg8TP378aOzZs+cf+ryB59F/Nyw/0tTHqr52VV+3qs/v6+Oeft0cHR29J6RrUEwV8uTJk+GtrS0I5xf5S0AQ0rB4REU1L3+J687evXvvjYyMrAqpBIqpZCCg9fX1qYGBgV/KEE8ekbjmtre358fHx5tCSoNiKomHDx9Ofv/+fVqfTkrFAkpDhTWrj7lLly7NC/EOxeQRRKHNzc1f9ek1jUKT0rs0VVQ3tY81K8QbFJMn1EiYVgHNSI9EIUcoKo9QTB0SpXO3xe689QsUlQcopjZZWFhoDA4O3u7xdK4Q6FOpUXGTRkV7DAgpDFI6defu1klIQP8euI53FxcXbwgpDCNTAeoYjdKApa5R6jqjlDsUkyM16RsVBX2pf7Gywg2meQ4grVMh/U/CEhJAadNdvZH8JiQXiikHNCRtULckYPRGMkNB5cM0LwONSOgfTQlpAbdPU77rQqxQTClQSHYoqHQoJgsUUjYUlB32mRKokP5DIWWD64PrJGQHFFOMyGzo2oDlTz/9JAcOHJB+ANeJpsROmOZF6J12ShvIbamQgYEBOXjwYEtAhw8fbolpfX1dlpeXpY+YGhsbmxNCMQFUNqCMRiqu+D527JicPHlyx/fUhpZHjx5JH7Gq53yVlRJM81pzkFRIGJCtfOrEx48fW+KJg2i1d+9e6SNa1w/XUQIneDFtbm4i729IF4CQIKgkQ0ND0mc0ousYNEGLCfV23TQcwOfPn3d9D32nfgPXUdPlSQmYoMUUFa52lW/fvu1K9fbv3y/9iKZ7t0NO94IVU2TrNsQzR44cKWxvf/jwYcfX/WKPW2hsbGwEOxcqSDHBvUPxpngGQjpz5oycO3eukInw6dOnHV/3Y5oXYxrXVwKkr2wjXwwODmJwVnxihATgyF24cKE1XpRM4Wxo512+fv3aGnMyQIxbW1tSFPxuGBiHDh3C37lL1BjHQmq5trbW1vs7MIzrq8fgyo2CG2eKxpSeiEfiQooDgTx//tzlLXaNOb169WpXxMoC0Wx4eFiOHj3aEpQLOL/V1VWrCdIpehP5Wcee5iUggkvzorumVxB9bBEIkSY5KJtGcszJNdXD6yDkkZGRliBdhWTO7+zZs62f9T22pecxLYERVGQqIyoZ0KjPnz9vFcGbN292mQw20LBRVgQQlRCdsn7fiRMnWlHRF+/evWs9fLFv375jIa11HlRkKiMqGdDvQUqHvkgSRCcXhy4uuLTXxyORTyEBiNM1kroQmrMXlJjKXlUIgnr69Kk1Crk4fPExJ5gHcZC+obEXERGEjQhnHugj5RkiSBVPnz4tnpgOadwpGDcvqgpvSAUgrUOjReM3uDp8L168wOS7VsM3QDynTp1y6g9B0DAVbHV/BqSSMCvi7mEcmBgaVZxS0xyG9X0m9fiHBEBIkemaVAj6Hi9fvtxlKqBflAWiU1xIhjwh4fegj6WRoCWCLMHCvUNKitdDfDZcU9M89MYQjBERhAFRpvGQh82YQGNH9CoC3sMWSSAavF+egIqcn6GItZ9FKEZEEJFJ+x+T0iVsxgT6JRhULULSZYNw8L3Hjx+3ju0IKX5+ada+j+gUbbNTe4IQU7TtZddIGhMwA758+VLkLf5O/3yJKHl+6KvZiPf7OuCfEgChGBAT0gMgtYMo2q04WFlZke3tbS8CSmLEmkwl8TX6a538Tr2ZITLVvryo9pEp2s28IR5Av6LTSoFOSncQQdpp1HADXez0tAFbM5DcAcMhFL+GEJm8RSX0HzBgiv4P7GfcyUsqFu0YRBP0zUyJEUQIIWeJ0YxzJZ1DRKcidYI2on7rrNSY2otJG8cExm18YO7QqMo2ha1oZGikZRSLtkNSRMnv55UL4QaRjEQ+6vbwOUjNqb2YtBFd8TXdwmZNmxQKKRju7IhYtpKiskkTURwXMdkil4/5VXpDq70JUXsxqZC83BFNRzwNNDg8IKwq00Ccl2ufCOeP12WlbGmDuB5oSM2ptZhQF7axseGlNqzIugzxNBDp3+vXr72LCiI6fvx4akmQDYgbkwOzsEUhT+7hMD6POg/e1lpM2oC95emmygBCQR8C4sIDz7OW5kL/A2LyRVERmeXEcO4ugrb1j2DH+0CjXkMPtd2FMMhp651g+kNJwyFNZIgEPqOSq5DaLTOyvXdeNHMlKjSmmPqRqqrEQZrIfC+OAgMhS0yd1Oql9btgrPhATYhaT8eotZi0MQ37ssXbxXeHPq1SwWXqRR5ppUO2KvZ2wOchNabWYuqFOyEiE6x5n6lePDqhob9//77jBg/b3BZF4fz5Kl9iZCIdgbs9KifQKBE1fIgK0QlpHIplfUQN9PHSpqt3WvkQEhRTiZhxJ2AWP0FU8dFAi86HSsOsUGTDTHUnblBMJZLsg5jFULC+Q9aUcGN/l7WmHTAVE2n9JKR2b9++FeJO3d281W4ZEPGoFAdGgW0bmTjG/sYDr/cVzYBL2REoY6AZn4fUmFqLSRvLqu9lkF1Ju+PnTeiDCONOnYlmGPzFmhKdYCJR3noSPsUbB5+H1JjaRybpAqZeLgmiTF4jTRNhJ+kezgXv6zLm5Xshyjjb29tNqTF1t8ab3YhMSNNs5DXSrNSwnUhRRESIloh8NBzap9Zi0kbUxPpvVYIGbKtQ6CQqFY0UZhKja/UFzBBf60lkMTQ0VNtSIlDraetRhXKlqV67gvAZlWAcuAgJ74uFWcyimSWzWvflvmpvjUepXiWzPCGGtPXnqopKwAgwrdYO/wfbu8op9/o51DoqgRCmrf9fP8jKxGQD5T5ZQIC29ena7SsBiDB5PhA1VnHtxroV+jncl5oTwrT1e1WYEElL2+BSRQAhpdXFtUs8Ovmq3+sE/QwYmfodtWPni2wA1i5pK5+6CCItxcsb3AVYGRY3C5tQzHhRLzh0g4ODtRdT7dfNGx8fb0oFJoRtWjs69XkNOa2fBRG4pGPYHQNrhaO+LjlL1uyV2wM0R0dHKaaacEdKxiYml1WK0qKSS11cXIiokLh48WLLEve9pWanaOSsfX8JBCEmNSDmpQvkRZZOo5JNiL53E/SBion7M9UFbbClf5j79u2ToiANtM3EdYlKaZUNrkKsmHkJgCDEhMHCsqNTO5UWqLfD5mTxTcdcxJA2wAt6bdoErnvUb609wcxn0lTjdz1MSknYBOC61p7ZcxYCcRFlp+lhlaibOieBEMw2nJqGzUuJrp5tOSyIqYgtDzHkmRYQUSemRcU0NSrNSiAEI6aoLux3KYk0EWAOkU+yyo56LSp1y/jpFiFtEI3odEtKwmzHkiRvRmsROpm92w00xbspARGUmKLoVJqzZ1vXAULytJWlnD592vp9rBXRg1FpNhTjwRCUmIBGj9JSvbTSIUSnTsd/IMi0eVJZi7N0i9CiEghOTHq3nNdDKQ5TVsNGZUK7EQpr2vmcolE2IUYlEJyYgEanGSnJ2UPjTlsSGYIoUu6DSIS6uzQTw2WeVDcIMSqB7i7E3UUePHgwo4ffpARgiV+4cCHTeDDbd0IQcePCzG1Km/5ugGCfPXvWc30l/VtualSakQAJVkzRRmh3paQd7SAGs+FZHhAT9kByXbOhV4WkNMfGxkYkUIJM8wCcPW3E16UkEHmw2o/L2gqIYDUQkpR5PfuBYMUEYEZEZUalgDRueXnZ27YySAnxfr0oJFzHyNwJlmDTPEPZ6Z6hyBp2SSDGlZWVXl7TrqkD4lfrvvpQHsGLCSwsLDQ01YKgSt8/yOyMnreVppmla3Zt72GQLl8N0QpPQjFFqKCmVFC3pUIgKNjkJloZIwKV4y6zdHsB9JNCKmbNgmKKoYKaUUGVYpfXkZBtcBsUU4LFxcVbOoI/LSQTGA6XL1++IeRvKCYLOqA7q4drQqxoRJrTiDQlZAcUUwoUlB0KKR2KKQMKaicUUjZBD9rmMTY2NoVOthBjNkwJSYWRyYHQXT41G/6tZkNps5TrAsXkyNLS0oQ2qv9KyZUSPUYzGkeaF5IL0zxHsFa2NqyfQ1kkBH8n/l4KyR1GpjbQsagb2tiQ9pVeftQFsEP9TaZ1xaGY2iSq55uRGrl9iEbb29vXWWfXHhRTh0Q1fYhSDelf2DfyAMXkiT4VFVM6j1BMnukHUUXp3NzQ0NAfoc9B8gnFVBIqqkkV1ZT0Tp8KooFDF/yM2LKgmEoGRoUeJgcHB69pSjUp1YKtdGDp39m/f/8so1C5UEwVginya2trE9rAf9WodaUEcRnx3MdufZrG3aOAqoNi6jJRZUVDn07o44qKAWNXw/o9HBuWH2niH30djk193bKKp4ndzEPYhJkQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEkCz+BHsXWDMTTEK3AAAAAElFTkSuQmCC",n1=O({__name:"DisconnectModal",props:{showDisConnectPopup:{type:Boolean}},setup(s){j(J),R(),j(J);const e=()=>{Vt.back()};return(n,r)=>(C(),g(V(Re),{show:n.showDisConnectPopup,img:V(s1),title:n.$t("ipad.dialog.tips"),"confirm-txt":n.$t("ipad.dialog.confirm"),content:n.$t("ipad.process.process_disconnect")+`
`+n.$t("ipad.process.process_disconnect_tip"),onConfirm:e},null,8,["show","img","title","confirm-txt","content"]))}}),r1=H(n1,[["__scopeId","data-v-25b107fa"]]),h1=O({__name:"Index",setup(s){const e=j(J),n=j(Tt),r=Yt(),a=$s(),{t:o}=wt(),i=B(),l=B(),u=B(),x=B(),p=B();let c=!1;const h=B(!1);(()=>{const{instanceId:f,taskId:G,action:F}=a.query;i.value=f??R().currentInstanceId,p.value=G??"",l.value=F,console.log("process-init",i.value,p.value),e.sendEvent(new Ns(i.value,p.value)),e.sendEvent(new js(p.value))})();const P={[et.PREVIEW]:sp,[et.UPLOAD]:e1,[et.PROCESSING]:Jp,[et.FINISH]:oi},b=S(()=>e.uiState.canUpdatePage[i.value]??!1),A=()=>{e.sendEvent(new Js),r.back()},M=()=>{Z.modal.showToast({icon:"warning",msg:"device.process.task_canceled",duration:3e3})};return vt(()=>e.uiEffect.uploadGcodeError,()=>{Z.modal.showToast({icon:"error",msg:"device.process.gcode_upload_fail",uniqueId:"gcode_upload_fail",needOverride:!0})}),U(()=>e.uiState.stepNameState,f=>{x.value=f[i.value],x.value===et.FINISH&&se(ne.processingResult,{taskId:p.value}),x.value===et.PREVIEW&&e.uiState.gCodePath&&n.sendEvent(new Ms),x.value===et.UPLOAD&&(n.uiState.isPlaying&&n.sendEvent(new Gt),n.sendEvent(new Te(n.uiState.totalProgress))),console.log("canUpdatePage",b.value),b.value?u.value=P[x.value]||u.value:p.value||(u.value=P[et.PREVIEW])}),Kt(()=>st.connected(),f=>{f||cs(u.value)===P[et.PREVIEW]&&Z.modal.showToast({msg:"device.process.disconnect",icon:"warning",uniqueId:"device.process.disconnect",needOverride:!0})}),U(()=>e.uiState.currentProcessState,f=>{if(f[i.value]===Ht.CANCEL_PROCESS&&r.currentRoute.value.path==="/process"){if(c){c=!1;return}M(),setTimeout(()=>{A()},600)}f[i.value]===Ht.BEFORE_START&&x.value===et.PREVIEW&&(c=!0,e.sendEvent(new xe))}),U(()=>e.uiState.currentProcessState,(f,G)=>{f[i.value]===Ht.DISCONNECT&&r.currentRoute.value.path==="/process"&&!R().connected&&cs(u.value)!==P[et.PREVIEW]&&(h.value=!0)}),vt(()=>e.uiEffect.showToast,f=>{Z.modal.showToast({msg:o(f.msgKey)})}),(f,G)=>(C(),I("div",null,[(C(),g(k(u.value))),(C(),g(k(r1),{"show-dis-connect-popup":h.value},null,8,["show-dis-connect-popup"]))]))}});export{h1 as default};
